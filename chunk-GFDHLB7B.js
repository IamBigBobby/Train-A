import{a as no}from"./chunk-MVWXSTHF.js";import{a as ce,b as on,c as Oi}from"./chunk-R3VBZQXY.js";import"./chunk-EKJMQO5Q.js";import{c as Vi}from"./chunk-57QVS7TS.js";import{c as Li}from"./chunk-6KTZOYXJ.js";import{a as bt}from"./chunk-MFRU7X2I.js";import{a as Ni,b as Ce,c as Qi,d as qi,e as eo}from"./chunk-RLCBV7EY.js";import{A as Se,D as gt,E as Ie,F as Ki,G as Me,H as Ji,I as to,J as Oe,a as Ei,b as $i,c as an,d as Bi,e as Ui,f as Wi,g as Yi,i as zi,j as Gi,k as Xi,l as Zi,m as fe,n as he,o as Wt,q as ge,s as _e,t as ve,v as be,w as xe,x as ye,y as Te,z as we}from"./chunk-7DOSCQIA.js";import{a as ji}from"./chunk-TS2ABZKH.js";import{a as rn}from"./chunk-ZV7KZKEA.js";import{a as Ri,d as Fi,e as Bt,g as Ut,h as Ai}from"./chunk-2FEQR2WY.js";import{C as ht,q as ki,u as de,v as pe,w as me}from"./chunk-ZGX5YXHD.js";import{$a as bi,A as re,Ab as Si,Ca as pi,E as ni,F as ii,Fa as G,G as Lt,Ga as mi,Ia as fi,J as dt,Lb as Ot,M as Ht,Mb as Ii,N as oi,Oa as hi,P as ri,Pa as gi,Q as ai,Qa as _i,Ra as le,Rb as Mi,U as pt,Va as vi,Vb as Di,Wa as Ci,Wb as Pi,Z as ae,ca as si,fa as et,fb as xi,ga as Qe,gb as ft,ha as qe,i as Gn,ia as li,k as oe,la as ci,m as Xn,ma as se,n as Zn,na as Je,o as Kn,oa as tn,p as Nt,pa as en,pb as yi,qa as ui,qb as Ti,r as Qn,ra as mt,rb as wi,s as qn,sa as tt,sb as ue,ta as nn,u as Jn,ua as jt,va as It,wa as Mt,x as ti,xa as $t,z as ei,za as di}from"./chunk-V43RW7AC.js";import{m as Hi}from"./chunk-H4NAPNW2.js";import{$ as Sn,A as xn,Aa as Dn,Ab as c,B as yn,Ba as I,Bb as d,Bc as ne,C as lt,Ca as At,Cb as E,Da as D,Db as H,E as vt,Ea as Vt,Eb as j,Fb as Ke,Fc as X,G as Tn,Gb as M,Gc as F,Hb as Jt,Hc as Bn,Ic as Un,Ja as Pn,Jb as T,Jc as Y,Ka as b,Kb as f,Kc as St,L as wn,La as x,Lb as ut,Lc as Wn,Mb as Q,Mc as z,Na as yt,Nb as An,Ob as Vn,Oc as Yn,Pb as te,Pc as zn,Qb as Tt,Rb as wt,Sa as $,Sb as q,Ta as En,Tb as v,Ub as Z,Va as Ct,Vb as O,Xc as ie,Z as Kt,ab as kn,ac as W,ba as In,bb as u,bc as k,cb as Ze,d as st,dc as ee,eb as qt,fa as Xe,fc as Nn,ga as kt,gc as w,h as Et,ha as Mn,hc as V,ib as Rn,ic as B,ja as Qt,jc as Ln,ka as On,kc as Hn,l as xt,lb as it,lc as jn,mb as Fn,mc as J,oa as ct,p as Cn,pa as Rt,qb as _,ra as Ft,rb as ot,sb as p,t as P,tb as rt,u as bn,ua as h,ub as R,uc as $n}from"./chunk-FW5WJFJQ.js";import{g as vn}from"./chunk-T527G4PA.js";var qo=65536,sn=class{constructor(e){this.$implicit=e}},ln=(()=>{let e=class e{constructor(){this.viewContainer=h(Rn),this.templateRef=h(qt)}set tuiRepeatTimesOf(t){let n=Math.floor(Ht(t,0,qo)),{length:r}=this.viewContainer;t<r?this.removeContainers(r-t):this.addContainers(n)}addContainers(t){for(let n=this.viewContainer.length;n<t;n++)this.viewContainer.createEmbeddedView(this.templateRef,new sn(n))}removeContainers(t){for(let n=0;n<t;n++)this.viewContainer.remove()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiRepeatTimes","","tuiRepeatTimesOf",""]],inputs:{tuiRepeatTimesOf:"tuiRepeatTimesOf"},standalone:!0});let i=e;return i})();var Jo=(i,e)=>{let o=new Date(i.year,i.month,1).getDay();return o>=e?o-e:se-(e-o)},tr=({month:i,rowIndex:e,colIndex:o,firstDayOfWeek:t})=>{let n=e*se+o-Jo(i,t)+1;return n>i.daysCount&&(n-=i.daysCount,i=i.append({month:1})),n<=0&&(i=i.append({month:-1}),n=i.daysCount+n),new tt(i.year,i.month,n)},er=6,io=(()=>{let e=class e{constructor(){this.firstDayOfWeek=h(le),this.currentMonth=null,this.currentSheet=[]}transform(t,n=!1){if(this.currentMonth?.monthSame(t))return this.currentSheet;let r=[];for(let a=0;a<er;a++){let s=[];for(let l=0;l<se;l++){let m=tr({month:t,rowIndex:a,colIndex:l,firstDayOfWeek:this.firstDayOfWeek}),g=(C,S=t)=>C.year<S.year||C.month<S.month,y=(C,S=t)=>C.year>S.year||C.month>S.month;if(!(g(m)&&!n)){if(y(m)&&!n)break;s.push(m)}}r.push(s)}return this.currentSheet=r.filter(a=>a.length),this.currentMonth=t,this.currentSheet}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Vt({name:"tuiCalendarSheet",type:e,pure:!0,standalone:!0});let i=e;return i})();function nr(i){let e=i.length-1;return[i[e],...i.slice(0,e)]}var oo=(()=>{let e=class e{constructor(){this.firstDayOfWeekIndex=h(le)}transform(t){return t.pipe(P(nr),P(n=>[...n.slice(this.firstDayOfWeekIndex),...n.slice(0,this.firstDayOfWeekIndex)]))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275pipe=Vt({name:"tuiOrderWeekDays",type:e,pure:!0,standalone:!0});let i=e;return i})();var ir=["*"];function or(i,e){if(i&1){let o=M();H(0),c(1,"button",1),T("click",function(){b(o);let n=f();return x(n.onLeftClick())}),v(2),d(),c(3,"span",2),Q(4),d(),c(5,"button",3),T("click",function(){b(o);let n=f();return x(n.onRightClick())}),v(6),d(),j()}if(i&2){let o=e.ngIf,t=f();u(),R("t-hidden",t.leftComputedDisabled),p("iconStart",t.icons.decrement)("tabIndex",t.focusable?0:-1),u(),O(" ",o[0]," "),u(3),R("t-hidden",t.rightComputedDisabled),p("iconStart",t.icons.increment)("tabIndex",t.focusable?0:-1),u(),O(" ",o[1]," ")}}var ro=(()=>{let e=class e{constructor(){this.icons=h(bi),this.spinTexts$=h(vi),this.focusable=!0,this.disabled=!1,this.leftDisabled=!1,this.rightDisabled=!1,this.leftClick=new $,this.rightClick=new $}onLeftClick(){this.leftComputedDisabled||this.leftClick.emit()}onRightClick(){this.rightComputedDisabled||this.rightClick.emit()}get leftComputedDisabled(){return this.disabled||this.leftDisabled}get rightComputedDisabled(){return this.disabled||this.rightDisabled}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["tui-spin-button"]],hostBindings:function(n,r){n&1&&T("mousedown.silent.prevent",function(){return 0})("keydown.arrowLeft.prevent",function(){return r.onLeftClick()})("keydown.arrowRight.prevent",function(){return r.onRightClick()})},inputs:{focusable:"focusable",disabled:"disabled",leftDisabled:"leftDisabled",rightDisabled:"rightDisabled"},outputs:{leftClick:"leftClick",rightClick:"rightClick"},standalone:!0,features:[k],ngContentSelectors:ir,decls:2,vars:3,consts:[[4,"ngIf"],["appearance","flat","automation-id","tui-spin-button__left","size","xs","tuiIconButton","","type","button",3,"click","iconStart","tabIndex"],[1,"t-content","t-calendar-title"],["appearance","flat","automation-id","tui-spin-button__right","size","xs","tuiIconButton","","type","button",3,"click","iconStart","tabIndex"]],template:function(n,r){n&1&&(ut(),_(0,or,7,10,"ng-container",0),w(1,"async")),n&2&&p("ngIf",V(1,1,r.spinTexts$))},dependencies:[ft,F,Y],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;font:var(--tui-font-text-l);text-align:center;font-weight:700}.t-hidden[_ngcontent-%COMP%]{visibility:hidden}.t-content[_ngcontent-%COMP%]{padding:0 .5rem}"],changeDetection:0});let i=e;return i})();var rr=(i,e,o,t,n)=>[i,e,o,t,n];function ar(i,e){if(i&1&&E(0,"div",3),i&2){let o=e.$implicit;p("textContent",o)}}function sr(i,e){if(i&1&&E(0,"div",12),i&2){let o=f().ngIf;rt("background",(o==null?null:o[1])||"")}}function lr(i,e){if(i&1&&(c(0,"div",11),E(1,"div",12),_(2,sr,1,2,"div",13),d()),i&2){let o=e.ngIf;u(),rt("background",o==null?null:o[0]),u(),p("ngIf",o.length>1)}}function cr(i,e){if(i&1){let o=M();c(0,"div",8),T("click",function(){b(o);let n=f().tuiLet,r=f(4);return x(r.onItemClick(n))})("tuiHoveredChange",function(n){b(o);let r=f().tuiLet,a=f(4);return x(a.onItemHovered(n&&r))}),c(1,"div",9),w(2,"tuiMapper"),v(3),_(4,lr,3,3,"div",10),w(5,"tuiMapper"),d()()}if(i&2){let o=f().tuiLet,t=f(4);R("t-cell_disabled",t.disabledItemHandler(o))("t-cell_interval",t.itemIsInterval(o))("t-cell_today",t.itemIsToday(o))("t-cell_unavailable",t.itemIsUnavailable(o)),ot("data-range",t.getItemRange(o)),u(),R("t-item_unavailable",t.itemIsUnavailable(o)),ot("data-type",B(2,14,o,t.dayTypeHandler)),u(2),O(" ",o.day," "),u(),p("ngIf",jn(5,17,Nn(23,rr,o,t.toMarkers,t.itemIsToday(o),!!t.getItemRange(o),t.markerHandler)))}}function ur(i,e){if(i&1&&(H(0),_(1,cr,6,29,"div",7),j()),i&2){let o=e.tuiLet,t=f(4);u(),p("ngIf",!t.itemIsUnavailable(o)||t.showAdjacent)}}function dr(i,e){if(i&1&&(H(0),_(1,ur,2,1,"ng-container",2),j()),i&2){let o=e.$implicit,t=f().$implicit,n=f().tuiLet;u(),p("tuiLet",n[t][o])}}function pr(i,e){if(i&1&&(c(0,"div",5),_(1,dr,2,1,"ng-container",6),d()),i&2){let o=e.$implicit,t=f().tuiLet;u(),p("tuiRepeatTimesOf",t[o].length)}}function mr(i,e){if(i&1&&(c(0,"div"),_(1,pr,2,1,"div",4),d()),i&2){let o=e.tuiLet;u(),p("tuiRepeatTimesOf",o.length)}}function fr(i,e){if(i&1&&(H(0),v(1),j()),i&2){let o=f();u(),O(" ",o.value.formattedYear," ")}}function hr(i,e){if(i&1){let o=M();c(0,"button",3),T("click",function(){b(o);let n=f();return x(n.onYearClick())}),v(1),d()}if(i&2){let o=f();u(),O(" ",o.value.formattedYear," ")}}function gr(i,e){if(i&1){let o=M();c(0,"div",4),T("click",function(){let n=b(o).tuiLet,r=f(3);return x(r.yearClick.emit(n))})("tuiHoveredChange",function(n){let r=b(o).tuiLet,a=f(3);return x(a.onItemHovered(n,r))}),c(1,"div",5),v(2),d()()}if(i&2){let o=e.tuiLet,t=f(3);R("t-cell_disabled",t.isDisabled(o))("t-cell_interval",t.itemIsInterval(o))("t-cell_today",t.itemIsToday(o)),p("tuiScrollIntoView",t.scrollItemIntoView(o)),ot("data-range",t.getItemRange(o)),u(2),Z(o)}}function _r(i,e){if(i&1&&(H(0),_(1,gr,3,9,"div",3),j()),i&2){let o=e.$implicit,t=f().$implicit,n=f();u(),p("tuiLet",n.getItem(t,o))}}function vr(i,e){i&1&&(c(0,"div",1),_(1,_r,2,1,"ng-container",2),d()),i&2&&(u(),p("tuiRepeatTimesOf",4))}function Cr(i,e){if(i&1){let o=M();c(0,"tui-scrollbar",2)(1,"tui-calendar-year",3),T("yearClick",function(n){b(o);let r=f();return x(r.onPickerYearClick(n))}),d()()}if(i&2){let o=f();u(),p("initialItem",o.month.year)("max",o.computedMax.year)("min",o.computedMin.year)("value",o.value)}}function br(i,e){if(i&1){let o=M();c(0,"tui-calendar-spin",4),T("valueChange",function(n){b(o);let r=f();return x(r.onPaginationValueChange(n))})("yearClick",function(){b(o);let n=f();return x(n.onPaginationYearClick())}),d(),c(1,"tui-calendar-sheet",5),w(2,"tuiMapper"),T("dayClick",function(n){b(o);let r=f();return x(r.onDayClick(n))})("hoveredItemChange",function(n){b(o);let r=f();return x(r.onHoveredItemChange(n))}),d()}if(i&2){let o=f();p("max",o.computedMaxViewedMonth)("min",o.computedMinViewedMonth)("value",o.month),u(),p("disabledItemHandler",Hn(2,9,o.disabledItemHandler,o.disabledItemHandlerMapper,o.computedMin,o.computedMax))("hoveredItem",o.hoveredItem)("markerHandler",o.markerHandler)("month",o.month)("showAdjacent",o.showAdjacent)("value",o.value)}}var xr=(()=>{let e=class e{constructor(){this.today=tt.currentLocal(),this.unorderedWeekDays$=h(Ci),this.dayTypeHandler=h(_i),this.month=mt.currentLocal(),this.disabledItemHandler=et,this.markerHandler=null,this.value=null,this.hoveredItem=null,this.showAdjacent=!0,this.hoveredItemChange=new $,this.dayClick=new $,this.toMarkers=(t,n,r,a)=>{if(n||r)return null;let s=a?.(t);return s?.length?s:null}}itemIsInterval(t){let{value:n,hoveredItem:r}=this;if(!(n instanceof jt))return!1;if(!n.isSingleDay)return n.from.daySameOrBefore(t)&&n.to.dayAfter(t);if(r===null)return!1;let a=jt.sort(n.from,r);return a.from.daySameOrBefore(t)&&a.to.dayAfter(t)}onItemHovered(t){this.updateHoveredItem(t||null)}getItemRange(t){let{value:n,hoveredItem:r}=this;return n?n instanceof tt?n.daySame(t)?"single":null:n instanceof jt?n.from.daySame(t)&&!n.isSingleDay||r?.dayAfter(n.from)&&n.from.daySame(t)&&n.isSingleDay||r?.daySame(t)&&r.dayBefore(n.from)&&n.isSingleDay?"start":n.to.daySame(t)&&!n.isSingleDay||r?.dayBefore(n.from)&&n.from.daySame(t)&&n.isSingleDay||r?.daySame(t)&&r.dayAfter(n.from)&&n.isSingleDay?"end":n.isSingleDay&&n.from.daySame(t)?"single":null:n.find(a=>a.daySame(t))?"single":null:null}get isSingleDayRange(){return this.value instanceof jt&&this.value.isSingleDay}itemIsToday(t){return this.today.daySame(t)}itemIsUnavailable(t){return!this.month.monthSame(t)}onItemClick(t){this.dayClick.emit(t)}updateHoveredItem(t){Lt(this.hoveredItem,t,(n,r)=>n.daySame(r))||(this.hoveredItem=t,this.hoveredItemChange.emit(t))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["tui-calendar-sheet"]],hostVars:2,hostBindings:function(n,r){n&2&&R("_single",r.isSingleDayRange)},inputs:{month:"month",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",value:"value",hoveredItem:"hoveredItem",showAdjacent:"showAdjacent"},outputs:{hoveredItemChange:"hoveredItemChange",dayClick:"dayClick"},standalone:!0,features:[k],decls:6,vars:9,consts:[[1,"t-row","t-row_weekday"],["class","t-cell",3,"textContent",4,"ngFor","ngForOf"],[4,"tuiLet"],[1,"t-cell",3,"textContent"],["automation-id","tui-calendar-sheet__row","class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-sheet__row",1,"t-row"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-sheet__cell","class","t-cell",3,"t-cell_disabled","t-cell_interval","t-cell_today","t-cell_unavailable","click","tuiHoveredChange",4,"ngIf"],["automation-id","tui-calendar-sheet__cell",1,"t-cell",3,"click","tuiHoveredChange"],["automation-id","tui-calendar-sheet__item",1,"t-item"],["class","t-dots",4,"ngIf"],[1,"t-dots"],[1,"t-dot"],["class","t-dot",3,"background",4,"ngIf"]],template:function(n,r){n&1&&(c(0,"div",0),_(1,ar,1,1,"div",1),w(2,"tuiOrderWeekDays"),w(3,"async"),d(),_(4,mr,2,1,"div",2),w(5,"tuiCalendarSheet")),n&2&&(u(),p("ngForOf",V(3,4,V(2,2,r.unorderedWeekDays$))),u(3),p("tuiLet",B(5,6,r.month,!0)))},dependencies:[z,X,F,Y,bt,on,ln,rn,io,oo],styles:['[_nghost-%COMP%]{display:block;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;height:2.25rem;isolation:isolate}.t-item[_ngcontent-%COMP%]{position:relative;flex:1;line-height:2rem;border-radius:var(--tui-radius-m)}.t-item[_ngcontent-%COMP%]:before, .t-item[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-item[_ngcontent-%COMP%]:after{border-radius:.5rem}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:2.25rem;text-align:center;outline:none;cursor:pointer;background-clip:content-box;box-sizing:border-box;border:.125rem solid transparent}.t-cell[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;border-radius:var(--tui-radius-m)}.t-cell_today[_ngcontent-%COMP%]:after{position:absolute;left:50%;transform:translate(-50%);content:"";bottom:.3125rem;height:.125rem;width:.75rem;border-radius:.375rem;background:var(--tui-text-primary)}.t-cell_interval[_ngcontent-%COMP%]:before{background:var(--tui-background-base-alt)}._single[_nghost-%COMP%]   .t-cell_interval[_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell_interval[_ngcontent-%COMP%]:not(:last-child):before{right:-.1875rem;border-top-right-radius:0;border-bottom-right-radius:0}.t-cell_interval[_ngcontent-%COMP%]:not([data-range=start]):not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell_interval[_ngcontent-%COMP%]:last-child:first-child:before{right:0}.t-cell_interval[_ngcontent-%COMP%]:first-child > .t-item[_ngcontent-%COMP%]{border-top-left-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m)}.t-cell_interval[_ngcontent-%COMP%]:last-child > .t-item[_ngcontent-%COMP%]{border-top-right-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.t-cell_interval[_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]{border-radius:0}.t-cell[data-range][_ngcontent-%COMP%]:after{background:var(--tui-text-primary-on-accent-1)}.t-cell[data-range][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:before, .t-cell[data-range][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range][_ngcontent-%COMP%]:hover > .t-item[_ngcontent-%COMP%]:before, .t-cell[data-range][_ngcontent-%COMP%]:hover > .t-item[_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1-hover)}.t-cell[data-range][_ngcontent-%COMP%]:active > .t-item[_ngcontent-%COMP%]:before, .t-cell[data-range][_ngcontent-%COMP%]:active > .t-item[_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1-pressed)}.t-cell[data-range=end][_ngcontent-%COMP%]:before{background:var(--tui-background-base-alt)}._single[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=end][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:before{left:.625rem;border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=end][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{left:-2rem;right:100%;transform:translate(1.6rem) scaleY(.83) scaleX(.5) rotate(45deg)}.t-cell[data-range=start][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:before{right:.625rem;border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{left:100%;right:-2rem;transform:translate(-1.6rem) scaleY(.83) scaleX(.5) rotate(45deg)}.t-cell[data-range=single][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{display:none}.t-cell_disabled[_ngcontent-%COMP%]{pointer-events:none}.t-cell_disabled[_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]{opacity:.36}.t-cell[_ngcontent-%COMP%]:hover:not([data-range]) > .t-item[_ngcontent-%COMP%]{background:var(--tui-background-neutral-1-hover)}.t-cell[_ngcontent-%COMP%]:active:not([data-range]) > .t-item[_ngcontent-%COMP%]{background:var(--tui-background-neutral-1-pressed)}[_nghost-%COMP%]{width:15.75rem}[data-type=weekday][_ngcontent-%COMP%]{color:var(--tui-text-primary)}[data-type=weekend][_ngcontent-%COMP%]{color:var(--tui-text-negative)}.t-row[_ngcontent-%COMP%]{justify-content:flex-start}.t-row[_ngcontent-%COMP%]:first-child{justify-content:flex-end}.t-row_weekday[_ngcontent-%COMP%]{font:var(--tui-font-text-s);color:var(--tui-text-secondary);pointer-events:none}.t-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.t-item_unavailable[_ngcontent-%COMP%]{opacity:var(--tui-disabled-opacity)}.t-dots[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:-.5rem;padding-bottom:.25rem}.t-dot[_ngcontent-%COMP%]{display:inline-block;width:.25rem;height:.25rem;border-radius:100%;margin:0 .0625rem}'],changeDetection:0});let i=e;return i})(),yr=(()=>{let e=class e{constructor(){this.value=mt.currentLocal(),this.min=It,this.max=Mt,this.valueChange=new $,this.yearClick=new $}onYearClick(){this.yearClick.next(this.value)}append(t){let n=this.value.append(t);this.min.monthSameOrAfter(n)?this.updateValue(this.min):this.updateValue(this.max.monthSameOrBefore(n)?this.max:n)}updateValue(t){this.value.monthSame(t)||(this.value=t,this.valueChange.emit(t))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["tui-calendar-spin"]],inputs:{value:"value",min:"min",max:"max"},outputs:{valueChange:"valueChange",yearClick:"yearClick"},standalone:!0,features:[k],decls:7,vars:10,consts:[["button",""],[3,"leftClick","rightClick","focusable","leftDisabled","rightDisabled"],[4,"ngIf","ngIfElse"],["id","year-btn","automation-id","tui-primitive-year-month-pagination__year-button","tabIndex","-1","tuiLink","","type","button",3,"click"]],template:function(n,r){if(n&1){let a=M();c(0,"tui-spin-button",1),T("leftClick",function(){return b(a),x(r.append({month:-1}))})("rightClick",function(){return b(a),x(r.append({month:1}))}),v(1),w(2,"tuiMonth"),w(3,"async"),_(4,fr,2,1,"ng-container",2)(5,hr,2,1,"ng-template",null,0,J),d()}if(n&2){let a=q(6);p("focusable",!1)("leftDisabled",r.value.monthSameOrBefore(r.min))("rightDisabled",r.value.monthSameOrAfter(r.max)),u(),O(" ",V(3,8,V(2,6,r.value))," "),u(3),p("ngIf",r.min.year===r.max.year)("ngIfElse",a)}},dependencies:[ro,ce,Ei,F,Y],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let i=e;return i})(),ao=100,so=4,Tr=(()=>{let e=class e{constructor(){this.hoveredItem=null,this.currentYear=mt.currentLocal().year,this.value=null,this.initialItem=this.currentYear,this.min=Je,this.max=tn,this.disabledItemHandler=et,this.yearClick=new $}isDisabled(t){return this.max&&this.max<t||this.min&&this.min>t||this.disabledItemHandler(t)}getItemRange(t){let{value:n,hoveredItem:r}=this;return n===null?null:n instanceof ui?n.year===t?"single":null:ni(n)?n===t?"single":null:n instanceof nn?n.from.year===t&&!n.from.yearSame(n.to)||r!==null&&r>n.from.year&&n.from.year===t&&n.from.yearSame(n.to)||r!==null&&r===t&&r<n.from.year&&n.from.yearSame(n.to)?"start":n.to.year===t&&!n.from.yearSame(n.to)||r!==null&&r<n.from.year&&n.from.year===t&&n.from.yearSame(n.to)||r!==null&&r===t&&r>n.from.year&&n.from.yearSame(n.to)?"end":n.from.yearSame(n.to)&&n.from.year===t?"single":null:n.find(a=>a.year===t)?"single":null}itemIsInterval(t){let{value:n,hoveredItem:r}=this;return this.isRange(n)?n.from.yearSame(n.to)?r===null||n.from.year===r?!1:oi(t,Math.min(n.from.year,r),Math.max(n.from.year,r)):n.from.year<=t&&n.to.year>t:!1}onItemHovered(t,n){this.updateHoveredItem(t,n)}get isSingle(){return this.isRange(this.value)&&this.value.from.yearSame(this.value.to)}get rows(){return Math.ceil((this.calculatedMax-this.calculatedMin)/so)}isRange(t){return t instanceof nn}scrollItemIntoView(t){return this.initialItem===t}getItem(t,n){return t*so+n+this.calculatedMin}itemIsToday(t){return this.currentYear===t}get calculatedMin(){let t=this.initialItem-ao,n=this.min??Je;return n>t?n:t}get calculatedMax(){let t=this.initialItem+ao,n=this.max??tn;return n<t?n+1:t}updateHoveredItem(t,n){this.hoveredItem=t?n:null}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["tui-calendar-year"]],hostVars:2,hostBindings:function(n,r){n&2&&R("_single",r.isSingle)},inputs:{value:"value",initialItem:"initialItem",min:"min",max:"max",disabledItemHandler:"disabledItemHandler"},outputs:{yearClick:"yearClick"},standalone:!0,features:[k],decls:1,vars:1,consts:[["automation-id","tui-calendar-year__row","class","t-row",4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-year__row",1,"t-row"],[4,"tuiRepeatTimes","tuiRepeatTimesOf"],["automation-id","tui-calendar-year__cell","class","t-cell",3,"t-cell_disabled","t-cell_interval","t-cell_today","tuiScrollIntoView","click","tuiHoveredChange",4,"tuiLet"],["automation-id","tui-calendar-year__cell",1,"t-cell",3,"click","tuiHoveredChange","tuiScrollIntoView"],[1,"t-item"]],template:function(n,r){n&1&&_(0,vr,2,1,"div",0),n&2&&p("tuiRepeatTimesOf",r.rows)},dependencies:[rn,ln,bt,Pi],styles:['[_nghost-%COMP%]{display:block;font:var(--tui-font-text-m)}.t-row[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:space-between;height:2.25rem;isolation:isolate}.t-item[_ngcontent-%COMP%]{position:relative;flex:1;line-height:2rem;border-radius:var(--tui-radius-m)}.t-item[_ngcontent-%COMP%]:before, .t-item[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;bottom:0;right:0;content:"";z-index:-1;border-radius:var(--tui-radius-m)}.t-item[_ngcontent-%COMP%]:after{border-radius:.5rem}.t-cell[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:center;width:3.9375rem;text-align:center;outline:none;cursor:pointer;background-clip:content-box;box-sizing:border-box;border:.125rem solid transparent}.t-cell[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;z-index:-1;border-radius:var(--tui-radius-m)}.t-cell_today[_ngcontent-%COMP%]:after{position:absolute;left:50%;transform:translate(-50%);content:"";bottom:.3125rem;height:.125rem;width:.75rem;border-radius:.375rem;background:var(--tui-text-primary)}.t-cell_interval[_ngcontent-%COMP%]:before{background:var(--tui-background-base-alt)}._single[_nghost-%COMP%]   .t-cell_interval[_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell_interval[_ngcontent-%COMP%]:not(:last-child):before{right:-.1875rem;border-top-right-radius:0;border-bottom-right-radius:0}.t-cell_interval[_ngcontent-%COMP%]:not([data-range=start]):not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell_interval[_ngcontent-%COMP%]:last-child:first-child:before{right:0}.t-cell_interval[_ngcontent-%COMP%]:first-child > .t-item[_ngcontent-%COMP%]{border-top-left-radius:var(--tui-radius-m);border-bottom-left-radius:var(--tui-radius-m)}.t-cell_interval[_ngcontent-%COMP%]:last-child > .t-item[_ngcontent-%COMP%]{border-top-right-radius:var(--tui-radius-m);border-bottom-right-radius:var(--tui-radius-m)}.t-cell_interval[_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]{border-radius:0}.t-cell[data-range][_ngcontent-%COMP%]:after{background:var(--tui-text-primary-on-accent-1)}.t-cell[data-range][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]{color:var(--tui-text-primary-on-accent-1)}.t-cell[data-range][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:before, .t-cell[data-range][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1)}.t-cell[data-range][_ngcontent-%COMP%]:hover > .t-item[_ngcontent-%COMP%]:before, .t-cell[data-range][_ngcontent-%COMP%]:hover > .t-item[_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1-hover)}.t-cell[data-range][_ngcontent-%COMP%]:active > .t-item[_ngcontent-%COMP%]:before, .t-cell[data-range][_ngcontent-%COMP%]:active > .t-item[_ngcontent-%COMP%]:after{background:var(--tui-background-accent-1-pressed)}.t-cell[data-range=end][_ngcontent-%COMP%]:before{background:var(--tui-background-base-alt)}._single[_nghost-%COMP%]   .t-cell[data-range=end][_ngcontent-%COMP%]:before{background:var(--tui-background-neutral-1-hover)}.t-cell[data-range=end][_ngcontent-%COMP%]:not(:first-child):before{border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=end][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:before{left:.625rem;border-top-left-radius:0;border-bottom-left-radius:0}.t-cell[data-range=end][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{left:-2rem;right:100%;transform:translate(1.6rem) scaleY(.83) scaleX(.5) rotate(45deg)}.t-cell[data-range=start][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:before{right:.625rem;border-top-right-radius:0;border-bottom-right-radius:0}.t-cell[data-range=start][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{left:100%;right:-2rem;transform:translate(-1.6rem) scaleY(.83) scaleX(.5) rotate(45deg)}.t-cell[data-range=single][_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]:after{display:none}.t-cell_disabled[_ngcontent-%COMP%]{pointer-events:none}.t-cell_disabled[_ngcontent-%COMP%] > .t-item[_ngcontent-%COMP%]{opacity:.36}.t-cell[_ngcontent-%COMP%]:hover:not([data-range]) > .t-item[_ngcontent-%COMP%]{background:var(--tui-background-neutral-1-hover)}.t-cell[_ngcontent-%COMP%]:active:not([data-range]) > .t-item[_ngcontent-%COMP%]{background:var(--tui-background-neutral-1-pressed)}[_nghost-%COMP%]{width:15.75rem}.t-row[_ngcontent-%COMP%]{margin:.875rem 0}.t-row[_ngcontent-%COMP%]:first-child{margin-top:0}.t-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}'],changeDetection:0});let i=e;return i})(),De=(()=>{let e=class e{constructor(){this.day=null,this.view="month",this.month=mt.currentLocal(),this.disabledItemHandler=et,this.min=It,this.max=Mt,this.minViewedMonth=It,this.maxViewedMonth=Mt,this.hoveredItem=null,this.showAdjacent=!0,this.markerHandler=null,this.dayClick=new $,this.monthChange=new $,this.hoveredItemChange=new $,this.disabledItemHandlerMapper=(t,n,r)=>a=>a.dayBefore(n)||a.dayAfter(r)||t(a)}set value(t){this.day=t,this.showAdjacent&&t instanceof tt&&(this.month=t)}set initialView(t){this.view=t}get value(){return this.day}onPaginationValueChange(t){this.updateViewedMonth(t)}onDayClick(t){this.dayClick.emit(t)}onHoveredItemChange(t){this.updateHoveredDay(t)}get computedMin(){return this.min??It}get computedMax(){return this.max??Mt}get computedMinViewedMonth(){let t=this.computedMin,n=this.minViewedMonth??It;return n.monthSameOrAfter(t)?n:t}get computedMaxViewedMonth(){let t=this.computedMax,n=this.maxViewedMonth??Mt;return n.monthSameOrBefore(t)?n:t}get isInYearView(){return this.view==="year"}onPaginationYearClick(){this.view="year"}onPickerYearClick(t){this.view="month",this.updateViewedMonth(new mt(t,this.month.month))}updateViewedMonth(t){this.month.monthSame(t)||(this.month=t,this.monthChange.emit(t))}updateHoveredDay(t){Lt(this.hoveredItem,t,(n,r)=>n.daySame(r))||(this.hoveredItem=t,this.hoveredItemChange.emit(t))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["tui-calendar"]],inputs:{month:"month",disabledItemHandler:"disabledItemHandler",min:"min",max:"max",minViewedMonth:"minViewedMonth",maxViewedMonth:"maxViewedMonth",hoveredItem:"hoveredItem",showAdjacent:"showAdjacent",markerHandler:"markerHandler",value:"value",initialView:"initialView"},outputs:{dayClick:"dayClick",monthChange:"monthChange",hoveredItemChange:"hoveredItemChange"},standalone:!0,features:[k],decls:3,vars:2,consts:[["calendar",""],["automation-id","tui-calendar__scrollbar","class","t-scrollbar",4,"ngIf","ngIfElse"],["automation-id","tui-calendar__scrollbar",1,"t-scrollbar"],["automation-id","tui-calendar__year",3,"yearClick","initialItem","max","min","value"],["automation-id","tui-calendar__pagination",1,"t-pagination",3,"valueChange","yearClick","max","min","value"],["automation-id","tui-calendar__calendar",3,"dayClick","hoveredItemChange","disabledItemHandler","hoveredItem","markerHandler","month","showAdjacent","value"]],template:function(n,r){if(n&1&&_(0,Cr,2,4,"tui-scrollbar",1)(1,br,3,14,"ng-template",null,0,J),n&2){let a=q(2);p("ngIf",r.isInYearView)("ngIfElse",a)}},dependencies:[F,Di,Tr,yr,xr,on],styles:["[_nghost-%COMP%]{display:block;min-height:18.25rem;width:15.75rem;padding:1rem 1.125rem;box-sizing:content-box}.t-scrollbar[_ngcontent-%COMP%]{height:18.25rem;width:16.875rem}.t-pagination[_ngcontent-%COMP%]{margin-bottom:1rem}"],changeDetection:0});let i=e;return i})();function lo(i){let{anchorOffset:e=0,focusOffset:o=0}=i.ownerDocument.getSelection()||{},t=Math.min(e,o),n=Math.max(e,o);return[t,n]}function Sr(i,[e,o]){var t,n;let r=i.ownerDocument,a=r.createRange();a.setStart(i.firstChild||i,Math.min(e,((t=i.textContent)===null||t===void 0?void 0:t.length)||0)),a.setEnd(i.lastChild||i,Math.min(o,((n=i.textContent)===null||n===void 0?void 0:n.length)||0));let s=r.getSelection();s&&(s.removeAllRanges(),s.addRange(a))}var cn=class{constructor(e){this.element=e,this.maxLength=1/0}get value(){return this.element.innerText.replace(/\n\n$/,`
`)}set value(e){this.element.innerHTML=e.replace(/\n$/,`

`)}get selectionStart(){return lo(this.element)[0]}get selectionEnd(){return lo(this.element)[1]}setSelectionRange(e,o){Sr(this.element,[e||0,o||0])}select(){this.setSelectionRange(0,this.value.length)}};function Ir(i){let e=new cn(i);return new Proxy(i,{get(o,t){if(t in e)return e[t];let n=o[t];return typeof n=="function"?n.bind(o):n},set(o,t,n,r){return Reflect.set(t in e?e:o,t,n,r)}})}var mo=i=>i.isContentEditable?Ir(i):i.querySelector("input,textarea")||i,_t={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},un=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){let e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}let o=this.now.value!==e.value,t=this.now.selection.some((n,r)=>n!==e.selection[r]);!o&&!t||(o&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,o){this.now=e,this.updateElementState(e,{inputType:o,data:null})}};function Mr(i,...e){return e.every(({value:o})=>o===i.value)}function Or(i,...e){return e.every(({value:o,selection:t})=>o===i.value&&t[0]===i.selection[0]&&t[1]===i.selection[1])}function Dr({value:i,selection:e},o,t){let[n,r]=e,a=typeof t=="function"?t({value:i,selection:e}):t;return{value:i,selection:a==="replace"?[n,n+o.length]:[n,r]}}function Re(i){return typeof i=="string"}function co(i,e,o,t){let n="";for(let r=e.length;r<i.length;r++){let a=i[r],s=t?.value[r]===a;if(!Re(a)||a===o&&!s)return n;n+=a}return n}function fo(i,e){return Array.isArray(e)?i.length===e.length&&Array.from(i).every((o,t)=>{let n=e[t];return Re(n)?o===n:o.match(n)}):e.test(i)}function Pr(i,e,o){let t=null,n=null,r=Array.from(i.value).reduce((s,l,m)=>{let g=co(e,s,l,o),y=s+g,C=e[y.length];return Re(C)?y+C:l.match(C)?(t===null&&m>=i.selection[0]&&(t=y.length),n===null&&m>=i.selection[1]&&(n=y.length),y+l):y},""),a=co(e,r,"",o);return{value:fo(r+a,e)?r+a:r,selection:[t??r.length,n??r.length]}}function Er({value:i,selection:e},o){let[t,n]=e,r=t,a=n;return{value:Array.from(i).reduce((l,m,g)=>{let y=l+m;return t===g&&(r=l.length),n===g&&(a=l.length),y.match(o)?y:l},""),selection:[r,a]}}function Pe(i,e,o=null){if(fo(i.value,e))return i;let{value:t,selection:n}=Array.isArray(e)?Pr(i,e,o):Er(i,e);return{selection:n,value:Array.isArray(e)?t.slice(0,e.length):t}}function uo(i,e){if(!Array.isArray(e))return i;let[o,t]=i.selection,n=[],r=Array.from(i.value).reduce((a,s,l)=>{let m=e[l];return l===o&&n.push(a.length),l===t&&n.push(a.length),Re(m)&&m===s?a:a+s},"");return n.length<2&&n.push(...new Array(2-n.length).fill(r.length)),{value:r,selection:[n[0],n[1]]}}var Gt=class{constructor(e,o){this.initialElementState=e,this.maskOptions=o,this.value="",this.selection=[0,0];let{value:t,selection:n}=Pe(this.initialElementState,this.getMaskExpression(this.initialElementState));this.value=t,this.selection=n}addCharacters([e,o],t){let{value:n}=this,r=this.getMaskExpression({value:n.slice(0,e)+t+n.slice(o),selection:[e+t.length,e+t.length]}),a={value:n,selection:[e,o]},s=uo(a,r),[l,m]=Dr(s,t,this.maskOptions.overwriteMode).selection,g=s.value.slice(0,l)+t,y=g.length,C=Pe({value:g+s.value.slice(m),selection:[y,y]},r,a);if(n.slice(0,l)===Pe({value:g,selection:[y,y]},r,a).value||Or(this,C))throw new Error("Invalid mask value");this.value=C.value,this.selection=C.selection}deleteCharacters([e,o]){if(e===o||!o)return;let{value:t}=this,n=this.getMaskExpression({value:t.slice(0,e)+t.slice(o),selection:[e,e]}),r={value:t,selection:[e,o]},a=uo(r,n),[s,l]=a.selection,m=a.value.slice(0,s)+a.value.slice(l),g=Pe({value:m,selection:[s,s]},n,r);this.value=g.value,this.selection=g.selection}getMaskExpression(e){let{mask:o}=this.maskOptions;return typeof o=="function"?o(e):o}},dn=class{constructor(e){this.element=e,this.listeners=[]}listen(e,o,t){let n=o;this.element.addEventListener(e,n,t),this.listeners.push(()=>this.element.removeEventListener(e,n))}destroy(){this.listeners.forEach(e=>e())}},nt={CTRL:1,ALT:2,SHIFT:4,META:8},Yt={Y:89,Z:90};function zt(i,e,o){return i.ctrlKey===!!(e&nt.CTRL)&&i.altKey===!!(e&nt.ALT)&&i.shiftKey===!!(e&nt.SHIFT)&&i.metaKey===!!(e&nt.META)&&i.keyCode===o}function kr(i){return zt(i,nt.CTRL,Yt.Y)||zt(i,nt.CTRL|nt.SHIFT,Yt.Z)||zt(i,nt.META|nt.SHIFT,Yt.Z)}function Rr(i){return zt(i,nt.CTRL,Yt.Z)||zt(i,nt.META,Yt.Z)}function ho(i,e){var o;let t=i.value;if(typeof e=="string")i.value=e;else{let[n,r]=e.selection;i.value=e.value,i.matches(":focus")&&((o=i.setSelectionRange)===null||o===void 0||o.call(i,n,r))}i.value!==t&&i.dispatchEvent(new Event("input",{bubbles:!0}))}function Fr({value:i,selection:e},o){let[t,n]=e;if(t!==n)return[t,n];let r=o?i.slice(t).indexOf(`
`)+1||i.length:i.slice(0,n).lastIndexOf(`
`)+1;return[o?t:r,o?r:n]}function Ar({value:i,selection:e},o){let[t,n]=e;return t!==n?[t,n]:(o?[t,n+1]:[t-1,n]).map(a=>Math.min(Math.max(a,0),i.length))}var Vr=/\s+$/g,Nr=/^\s+/g,po=/\s/;function Lr({value:i,selection:e},o){let[t,n]=e;if(t!==n)return[t,n];if(o){let l=i.slice(t),[m]=l.match(Nr)||[""],g=l.trimStart().search(po);return[t,g!==-1?t+m.length+g:i.length]}let r=i.slice(0,n),[a]=r.match(Vr)||[""],s=r.trimEnd().split("").reverse().findIndex(l=>l.match(po));return[s!==-1?n-a.length-s:0,n]}function Ee(i=[]){return(e,...o)=>i.reduce((t,n)=>Object.assign(Object.assign({},t),n(t,...o)),e)}function Fe(i,e){let o=Object.assign(Object.assign({},_t),e),t=Ee(o.preprocessors),n=Ee(o.postprocessors),r=typeof i=="string"?{value:i,selection:[0,0]}:i,{elementState:a}=t({elementState:r,data:""},"validation"),s=new Gt(a,o),{value:l,selection:m}=n(s,r);return typeof i=="string"?l:{value:l,selection:m}}var ke=class extends un{constructor(e,o){super(),this.element=e,this.maskitoOptions=o,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new dn(this.element),this.options=Object.assign(Object.assign({},_t),this.maskitoOptions),this.preprocessor=Ee(this.options.preprocessors),this.postprocessor=Ee(this.options.postprocessors),this.teardowns=this.options.plugins.map(t=>t(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",t=>{if(kr(t))return t.preventDefault(),this.redo();if(Rr(t))return t.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",t=>{var n;let r=t.inputType.includes("Forward");switch(this.updateHistory(this.elementState),t.inputType){case"historyUndo":return t.preventDefault(),this.undo();case"historyRedo":return t.preventDefault(),this.redo();case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:t,isForward:r,selection:Ar(this.elementState,r)});case"deleteWordForward":case"deleteWordBackward":return this.handleDelete({event:t,isForward:r,selection:Lr(this.elementState,r),force:!0});case"deleteSoftLineBackward":case"deleteSoftLineForward":case"deleteHardLineBackward":case"deleteHardLineForward":return this.handleDelete({event:t,isForward:r,selection:Fr(this.elementState,r),force:!0});case"insertCompositionText":return;case"insertReplacementText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(t);case"insertFromPaste":case"insertText":case"insertFromDrop":default:return this.handleInsert(t,t.data||((n=t.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"))||"")}}),this.eventListener.listen("input",({inputType:t})=>{t!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}get elementState(){let{value:e,selectionStart:o,selectionEnd:t}=this.element;return{value:e,selection:[o||0,t||0]}}get maxLength(){let{maxLength:e}=this.element;return e===-1?1/0:e}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e?.())}updateElementState({value:e,selection:o},t={inputType:"insertText",data:null}){let n=this.elementState.value;this.updateValue(e),this.updateSelectionRange(o),n!==e&&this.dispatchInputEvent(t)}updateSelectionRange([e,o]){var t;let{element:n}=this;n.matches(":focus")&&(n.selectionStart!==e||n.selectionEnd!==o)&&((t=n.setSelectionRange)===null||t===void 0||t.call(n,e,o))}updateValue(e){this.element.value=e}ensureValueFitsMask(){this.updateElementState(Fe(this.elementState,this.options))}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:o,isForward:t,force:n=!1}){let r={value:this.elementState.value,selection:o},[a,s]=r.selection,{elementState:l}=this.preprocessor({elementState:r,data:""},t?"deleteForward":"deleteBackward"),m=new Gt(l,this.options),[g,y]=l.selection;m.deleteCharacters([g,y]);let C=this.postprocessor(m,r);if(!(r.value.slice(0,a)+r.value.slice(s)===C.value&&!n&&!this.element.isContentEditable)){if(e.preventDefault(),Mr(r,l,m,C))return this.updateSelectionRange(t?[y,y]:[g,g]);this.updateElementState(C,{inputType:e.inputType,data:null}),this.updateHistory(C)}}handleInsert(e,o){let t=this.elementState,{elementState:n,data:r=o}=this.preprocessor({data:o,elementState:t},"insert"),a=new Gt(n,this.options);try{a.addCharacters(n.selection,r)}catch{return e.preventDefault()}let[s,l]=n.selection,m=t.value.slice(0,s)+o+t.value.slice(l),g=this.postprocessor(a,t);if(g.value.length>this.maxLength)return e.preventDefault();(m!==g.value||this.element.isContentEditable)&&(e.preventDefault(),this.updateElementState(g,{data:o,inputType:e.inputType}),this.updateHistory(g))}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}};var Ae=(()=>{let e=class e{constructor(){this.elementRef=h(Ct).nativeElement,this.ngZone=h(En),this.maskedElement=null,this.options=null,this.elementPredicate=mo;let t=h(Gn,{self:!0,optional:!0});if(t){let n=t.writeValue.bind(t);t.writeValue=r=>{n(this.options?Fe(String(r??""),this.options):r)}}}ngOnChanges(){return vn(this,null,function*(){let{elementPredicate:t,options:n}=this;if(this.maskedElement?.destroy(),!n)return;let r=yield t(this.elementRef);this.elementPredicate===t&&this.ngZone.runOutsideAngular(()=>{this.maskedElement=new ke(r,n)})})}ngOnDestroy(){this.maskedElement?.destroy()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","maskito",""]],inputs:{options:[0,"maskito","options"],elementPredicate:[0,"maskitoElement","elementPredicate"]},standalone:!0,features:[Pn]});let i=e;return i})();function Hr(i,e,o){let t=Math.min(Number(o),Math.max(Number(e),Number(i)));return i instanceof Date?new Date(t):t}function jr(i){return i.replaceAll(/\W/g,"").length}var xo=i=>{var e,o,t;return{day:((e=i.match(/d/g))===null||e===void 0?void 0:e.length)||0,month:((o=i.match(/m/g))===null||o===void 0?void 0:o.length)||0,year:((t=i.match(/y/g))===null||t===void 0?void 0:t.length)||0}};function $r(i){return{day:String(i.getDate()).padStart(2,"0"),month:String(i.getMonth()+1).padStart(2,"0"),year:String(i.getFullYear()).padStart(4,"0"),hours:String(i.getHours()).padStart(2,"0"),minutes:String(i.getMinutes()).padStart(2,"0"),seconds:String(i.getSeconds()).padStart(2,"0"),milliseconds:String(i.getMilliseconds()).padStart(3,"0")}}function Br(i,e){return i.length<e.length?!1:i.split(/\D/).every(o=>!o.match(/^0+$/))}function yo(i,e,o){let t=jr(e);return i.replace(o,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${t}}`,"g"))||[]}function pn(i,e){let o=e.replaceAll(/[^dmy]/g,""),t=i.replaceAll(/\D+/g,""),n={day:t.slice(o.indexOf("d"),o.lastIndexOf("d")+1),month:t.slice(o.indexOf("m"),o.lastIndexOf("m")+1),year:t.slice(o.indexOf("y"),o.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(n).filter(([r,a])=>!!a).sort(([r],[a])=>e.toLowerCase().indexOf(r[0])>e.toLowerCase().indexOf(a[0])?1:-1))}function Ur(i,e){var o,t,n,r,a,s,l;let m=((o=i.year)===null||o===void 0?void 0:o.length)===2?`20${i.year}`:i.year,g=new Date(Number(m??"0"),Number((t=i.month)!==null&&t!==void 0?t:"1")-1,Number((n=i.day)!==null&&n!==void 0?n:"1"),Number((r=e?.hours)!==null&&r!==void 0?r:"0"),Number((a=e?.minutes)!==null&&a!==void 0?a:"0"),Number((s=e?.seconds)!==null&&s!==void 0?s:"0"),Number((l=e?.milliseconds)!==null&&l!==void 0?l:"0"));return g.setFullYear(Number(m??"0")),g}var To=", ";function Xt({day:i,month:e,year:o,hours:t,minutes:n,seconds:r,milliseconds:a},{dateMode:s,dateTimeSeparator:l=To,timeMode:m}){var g;let y=((g=s.match(/y/g))===null||g===void 0?void 0:g.length)===2?o?.slice(-2):o;return(s+(m?l+m:"")).replaceAll(/d+/g,i??"").replaceAll(/m+/g,e??"").replaceAll(/y+/g,y??"").replaceAll(/H+/g,t??"").replaceAll("MSS",a??"").replaceAll(/M+/g,n??"").replaceAll(/S+/g,r??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}var wo={day:31,month:12,year:9999};var Wr=new Date("0001-01-01"),Yr=new Date("9999-12-31"),zr={hours:23,minutes:59,seconds:59,milliseconds:999},mn=[":","."],So={hours:2,minutes:2,seconds:2,milliseconds:3};var Gr=":",Xr="\uFF1A";function Zr({dateString:i,dateModeTemplate:e,dateSegmentsSeparator:o,offset:t,selection:[n,r]}){let a=pn(i,e),s=Object.entries(a),l={};for(let[y,C]of s){let S=Xt(l,{dateMode:e}),N=wo[y],U=S.length&&o.length,L=t+S.length+U+xo(e)[y],K=L>=n&&L===r;if(K&&Number(C)>Number(N))return{validatedDateString:"",updatedSelection:[n,r]};if(K&&Number(C)<1)return{validatedDateString:"",updatedSelection:[n,r]};l[y]=C}let m=Xt(l,{dateMode:e}),g=m.length-i.length;return{validatedDateString:m,updatedSelection:[n+g,r+g]}}var Io=/[\\^$.*+?()[\]{}|]/g,Kr=new RegExp(Io.source);function fn(i){return i&&Kr.test(i)?i.replaceAll(Io,"\\$&"):i}function Ne(i,e,o=0){return Number(i.padEnd(e.length,"0"))<=Number(e)?{validatedSegmentValue:i,prefixedZeroesCount:o}:i.endsWith("0")?Ne(`0${i.slice(0,e.length-1)}`,e,o+1):Ne(`${i.slice(0,e.length-1)}0`,e,o)}function _o(i){return i.replaceAll(new RegExp(Xr,"g"),Gr)}function vo(i){return i.replaceAll(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}function Qr(){return({elementState:i,data:e})=>{let{value:o,selection:t}=i;return{elementState:{selection:t,value:_o(o)},data:_o(e)}}}function qr({dateModeTemplate:i,dateSegmentSeparator:e,splitFn:o,uniteFn:t}){return({value:n,selection:r})=>{var a;let[s,l]=r,{dateStrings:m,restPart:g=""}=o(n),y=[],C=0;m.forEach(N=>{let U=pn(N,i),K=Object.entries(U).reduce((at,[Ye,ze])=>{let{validatedSegmentValue:Ge,prefixedZeroesCount:Qo}=Ne(ze,`${wo[Ye]}`);return C+=Qo,Object.assign(Object.assign({},at),{[Ye]:Ge})},{});y.push(Xt(K,{dateMode:i}))});let S=t(y,n)+(!((a=m[m.length-1])===null||a===void 0)&&a.endsWith(e)?e:"")+g;return C&&S.slice(l+C,l+C+e.length)===e&&(C+=e.length),{selection:[s+C,l+C],value:S}}}function Mo(){return({elementState:i,data:e})=>{let{value:o,selection:t}=i;return{elementState:{selection:t,value:vo(o)},data:vo(e)}}}function Jr(i,e){let o=xo(e);return Object.fromEntries(Object.entries(i).map(([t,n])=>{let r=o[t];return[t,n.length===r&&n.match(/^0+$/)?"1".padStart(r,"0"):n]}))}function ta({dateModeTemplate:i,min:e=Wr,max:o=Yr,rangeSeparator:t="",dateSegmentSeparator:n="."}){return({value:r,selection:a})=>{let s=t&&r.endsWith(t),l=yo(r,i,t),m="";for(let g of l){m+=m?t:"";let y=pn(g,i);if(!Br(g,i)){let N=Jr(y,i),U=Xt(N,{dateMode:i}),L=g.endsWith(n)?n:"";m+=U+L;continue}let C=Ur(y),S=Hr(C,e,o);m+=Xt($r(S),{dateMode:i})}return{selection:a,value:m+(s?t:"")}}}function ea({dateModeTemplate:i,dateSegmentsSeparator:e,rangeSeparator:o="",dateTimeSeparator:t=To}){return({elementState:n,data:r})=>{let a=o?new RegExp(`${o}|-`):t,s=r.split(a),l=r.includes(t)?[s[0]]:s;if(l.every(m=>m.trim().split(/\D/).filter(Boolean).length===i.split(e).length)){let m=l.map(g=>na(g,i,e)).join(o);return{elementState:n,data:`${m}${r.includes(t)&&t+s[1]||""}`}}return{elementState:n,data:r}}}function na(i,e,o){let t=i.split(/\D/).filter(Boolean),n=e.split(o);return t.map((a,s)=>s===n.length-1?a:a.padStart(n[s].length,"0")).join(o)}function ia({dateModeTemplate:i,dateSegmentsSeparator:e,rangeSeparator:o=""}){return({elementState:t,data:n})=>{let{value:r,selection:a}=t;if(n===e)return{elementState:t,data:a[0]===r.length?n:""};let s=n.replaceAll(new RegExp(`[^\\d${fn(e)}${o}]`,"g"),"");if(!s)return{elementState:t,data:""};let[l,m]=a,g=m+n.length,y=r.slice(0,l)+s+r.slice(g),C=yo(y,i,o),S="",N=!!o&&y.includes(o);for(let L of C){let{validatedDateString:K,updatedSelection:at}=Zr({dateString:L,dateModeTemplate:i,dateSegmentsSeparator:e,offset:S.length,selection:[l,g]});if(L&&!K)return{elementState:t,data:""};g=at[1],S+=N&&!S?K+o:K}let U=S.slice(l,g);return{elementState:{selection:a,value:S.slice(0,l)+U.split(e).map(L=>"0".repeat(L.length)).join(e)+S.slice(g)},data:U}}}var oa=()=>{};function ra({step:i,fullMode:e,timeSegmentMaxValues:o}){let t=aa(e);return i<=0?oa:n=>{let r=a=>{if(a.key!=="ArrowUp"&&a.key!=="ArrowDown")return;a.preventDefault();let s=n.selectionStart||0,l=sa({segmentsIndexes:t,selectionStart:s});if(!l)return;let m=la({selection:t.get(l),value:n.value,toAdd:a.key==="ArrowUp"?i:-i,max:o[l]});ho(n,{value:m,selection:[s,s]})};return n.addEventListener("keydown",r),()=>n.removeEventListener("keydown",r)}}function aa(i){return new Map([["hours",Ve(i,"HH")],["minutes",Ve(i,"MM")],["seconds",Ve(i,"SS")],["milliseconds",Ve(i,"MSS")]])}function Ve(i,e){let o=i.indexOf(e);return o===-1?[-1,-1]:[o,o+e.length]}function sa({segmentsIndexes:i,selectionStart:e}){for(let[o,t]of i.entries()){let[n,r]=t;if(n<=e&&e<=r)return o}return null}function la({selection:i,value:e,toAdd:o,max:t}){let[n,r]=i,a=Number(e.slice(n,r).padEnd(r-n,"0")),s=ca(a+o,t+1);return e.slice(0,n)+String(s).padStart(r-n,"0")+e.slice(r,e.length)}function ca(i,e){return i<0&&(i+=Math.floor(Math.abs(i)/e+1)*e),i%e}function Oo(){return({elementState:i},e)=>{let{value:o,selection:t}=i;if(!o||ua(o,t))return{elementState:i};let[n,r]=t,a=o.slice(n,r).replaceAll(/\d/g,"0"),s=o.slice(0,n)+a+o.slice(r);return e==="validation"||e==="insert"&&n===r?{elementState:{selection:t,value:s}}:{elementState:{selection:e==="deleteBackward"||e==="insert"?[n,n]:[r,r],value:s}}}}function ua(i,[e,o]){return o===i.length}function Do({mode:i,separator:e=".",max:o,min:t}){let n=i.split("/").join(e);return Object.assign(Object.assign({},_t),{mask:Array.from(n).map(r=>e.includes(r)?r:/\d/),overwriteMode:"replace",preprocessors:[Mo(),Oo(),ea({dateModeTemplate:n,dateSegmentsSeparator:e}),ia({dateModeTemplate:n,dateSegmentsSeparator:e})],postprocessors:[qr({dateModeTemplate:n,dateSegmentSeparator:e,splitFn:r=>({dateStrings:[r]}),uniteFn:([r])=>r}),ta({min:t,max:o,dateModeTemplate:n,dateSegmentSeparator:e})]})}function da(i){return Object.fromEntries(Object.entries(i).map(([e,o])=>[e,`${o}`.padEnd(So[e],"0")]))}var pa={HH:"hours",MM:"minutes",SS:"seconds",MSS:"milliseconds"};function ma(i,e){let o=i.replaceAll(/\D+/g,""),t=0;return Object.fromEntries(e.split(/\W/).map(n=>{let r=o.slice(t,t+n.length);return t+=n.length,[pa[n],r]}))}var fa=/^\D*/,ha=/\D*$/;function Co({hours:i="",minutes:e="",seconds:o="",milliseconds:t=""}){return`${i}:${e}:${o}.${t}`.replace(fa,"").replace(ha,"")}var ga=new RegExp(`[${mn.map(fn).join("")}]$`);function bo({timeString:i,paddedMaxValues:e,offset:o,selection:[t,n],timeMode:r}){let a=ma(i,r),s=Object.entries(a),l={},m=0;for(let[S,N]of s){let U=Co(l),L=e[S],K=U.length&&1,at=o+U.length+K+So[S];if(at>=t&&at<=n&&Number(N)>Number(L))return{validatedTimeString:"",updatedTimeSelection:[t,n]};let{validatedSegmentValue:ze,prefixedZeroesCount:Ge}=Ne(N,`${L}`);m+=Ge,l[S]=ze}let[g=""]=i.match(ga)||[],y=Co(l)+g,C=Math.max(y.length-i.length,0);return{validatedTimeString:y,updatedTimeSelection:[t+m+C,n+m+C]}}function _a(i,e){let o=da(i),t=new RegExp(`[^\\d${mn.map(fn).join("")}]+`);return({elementState:n,data:r},a)=>{if(a==="deleteBackward"||a==="deleteForward")return{elementState:n,data:r};let{value:s,selection:l}=n;if(a==="validation"){let{validatedTimeString:K,updatedTimeSelection:at}=bo({timeString:s,paddedMaxValues:o,offset:0,selection:l,timeMode:e});return{elementState:{value:K,selection:at},data:r}}let m=r.replace(t,""),[g,y]=l,C=y+m.length,S=s.slice(0,g)+m+s.slice(C),{validatedTimeString:N,updatedTimeSelection:U}=bo({timeString:S,paddedMaxValues:o,offset:0,selection:[g,C],timeMode:e});if(S&&!N)return{elementState:n,data:""};C=U[1];let L=N.slice(g,C);return{elementState:{selection:l,value:N.slice(0,g)+"0".repeat(L.length)+N.slice(C)},data:L}}}function Po({mode:i,timeSegmentMaxValues:e={},step:o=0}){let t=Object.assign(Object.assign({},zr),e);return Object.assign(Object.assign({},_t),{mask:Array.from(i).map(n=>mn.includes(n)?n:/\d/),preprocessors:[Mo(),Qr(),Oo(),_a(t,i)],plugins:[ra({fullMode:i,step:o,timeSegmentMaxValues:t})],overwriteMode:"replace"})}var wa=["*",[["input"]]],Sa=["*","input"],Ia=i=>({$implicit:i});function Ma(i,e){if(i&1){let o=M();c(0,"tui-primitive-textfield",5),T("focusedChange",function(n){b(o);let r=f();return x(r.onFocused(n))})("valueChange",function(n){b(o);let r=f();return x(r.onValueChange(n))}),Q(1),Q(2,1,["ngProjectAs","input",5,["input"]]),d()}if(i&2){let o=e.tuiLet,t=f(),n=q(4);p("disabled",t.computedDisabled)("focusable",t.computedFocusable)("invalid",t.computedInvalid)("maskito",t.computedMask)("nativeId",t.nativeId)("pseudoFocus",t.pseudoFocus)("pseudoHover",t.pseudoHover)("readOnly",t.readOnly)("tuiTextfieldFiller",t.getComputedFiller(o||""))("tuiTextfieldIcon",t.calendarIcon&&n)("value",t.computedValue)}}function Oa(i,e){if(i&1){let o=M();c(0,"tui-icon",8),T("click",function(){b(o);let n=f(2);return x(n.onIconClick())}),d()}if(i&2){let o=e.polymorpheusOutlet,t=f(2);R("t-icon_small",t.size==="s")("t-icon",!t.computedDisabled),p("icon",o.toString())}}function Da(i,e){i&1&&E(0,"input",9)}function Pa(i,e){if(i&1&&_(0,Oa,1,5,"tui-icon",6)(1,Da,1,0,"input",7),i&2){let o=f();p("polymorpheusOutlet",o.calendarIcon)("polymorpheusOutletContext",ee(3,Ia,o.size)),u(),p("ngIf",o.nativePicker)}}function Ea(i,e){if(i&1){let o=M();c(0,"div",12),T("mousedown.prevent.silent",function(){return b(o),x(0)}),c(1,"button",13),T("click",function(){b(o);let n=f(2);return x(n.onDayClick(n.items[0].day))}),v(2),d()()}if(i&2){let o=f(2);u(2),O(" ",o.items[0]," ")}}function ka(i,e){if(i&1){let o=M();c(0,"tui-calendar",10),T("dayClick",function(n){b(o);let r=f();return x(r.onDayClick(n))})("monthChange",function(n){b(o);let r=f();return x(r.onMonthChange(n))})("mousedown.prevent.silent",function(){return b(o),x(0)}),d(),_(1,Ea,3,1,"div",11)}if(i&2){let o=f();p("disabledItemHandler",o.disabledItemHandler)("markerHandler",o.markerHandler)("max",o.computedMax)("min",o.computedMin)("month",o.computedActiveYearMonth)("value",o.value),u(),p("ngIf",o.items.length===1)}}var hn=(()=>{let e=class e extends _e{get value(){return this.host.computedValue}get max(){return this.host.computedMax}get min(){return this.host.computedMin}get format(){return this.host.dateFormat}onValueChange(t){t||(this.host.nativeValue=""),this.host.onValueChange(t)}process(t){t.inputMode="numeric"}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=yt(e)))(r||e)}})(),e.\u0275dir=D({type:e,selectors:[["tui-input-date",3,"multiple",""]],features:[W([Wt(e)]),it]});let i=e;return i})(),Ra=(()=>{let e=class e{constructor(){this.host=h(he)}get value(){return this.host.value.length===en?tt.normalizeParse(this.host.value,this.host.format.mode).toString("YMD","-"):""}get max(){return this.host.max.toJSON()}get min(){return this.host.min.toJSON()}onChange(t){this.host.onValueChange(t?tt.normalizeParse(t,"YMD").toString(this.host.format.mode):"")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["input","tuiDate",""]],hostAttrs:["type","date"],hostVars:4,hostBindings:function(n,r){n&1&&T("change",function(s){return r.onChange(s.target.value)})("click.stop.silent",function(){return 0})("input.stop.silent",function(){return 0})("mousedown.stop.silent",function(){return 0}),n&2&&Jt("tabIndex",-1)("value",r.value)("max",r.max)("min",r.min)},features:[W([Wt(hn)])]});let i=e;return i})(),Eo=(()=>{let e=class e extends ve{constructor(){super(...arguments),this.options=h(Yi),this.textfieldSize=h(ye),this.mobileCalendar=h(zi,{optional:!0}),this.month=null,this.min=this.options.min,this.max=this.options.max,this.disabledItemHandler=et,this.markerHandler=null,this.items=[],this.defaultActiveYearMonth=mt.currentLocal(),this.dateFormat=hi,this.open=!1,this.dateTexts$=h(Wi),this.valueTransformer=h(an,{optional:!0}),this.isMobile=h(Ot),this.filler$=this.dateTexts$.pipe(P(t=>ei(t[this.dateFormat.mode],this.dateFormat.separator))),this.dateFormat$=h(gi).pipe(fi(this.cdr),ie()).subscribe(t=>{this.dateFormat=t})}get computedMin(){return this.min??this.options.min}get computedMax(){return this.max??this.options.max}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement??null}get focused(){return!!this.textfield?.focused}get nativeValue(){return this.nativeFocusableElement?.value||""}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}get computedValue(){let{value:t,nativeValue:n,activeItem:r}=this;return r?String(r):t?t.toString(this.dateFormat.mode,this.dateFormat.separator):n}onValueChange(t){this.control&&this.control.updateValueAndValidity({emitEvent:!1}),!t&&!this.mobileCalendar&&this.onOpenChange(!0),this.value=t.length!==en?null:tt.normalizeParse(t,this.dateFormat.mode)}setDisabledState(){super.setDisabledState(),this.open=!1}writeValue(t){super.writeValue(t),this.nativeValue=t?this.computedValue:""}get size(){return this.textfieldSize.size}get nativePicker(){return this.options.nativePicker&&this.isMobile}get calendarIcon(){return this.options.icon}get computedActiveYearMonth(){return this.items[0]&&this.value?.daySame(this.items[0].day)?this.items[0].displayDay:this.month||this.value||ci(this.defaultActiveYearMonth,this.computedMin,this.computedMax)}get computedMask(){return this.activeItem?_t:this.computeMaskOptions(this.dateFormat.mode,this.dateFormat.separator,this.computedMin,this.computedMax)}get activeItem(){let{value:t}=this;return t&&this.items.find(n=>n.day.daySame(t))||null}onClick(){!this.isMobile&&this.interactive&&(this.open=!this.open)}getComputedFiller(t){return this.activeItem?"":t}onIconClick(){this.isMobile&&this.interactive&&(this.open=!0)}onDayClick(t){this.value=t,this.open=!1}onMonthChange(t){this.month=t}onOpenChange(t){this.open=t}onFocused(t){this.updateFocused(t)}valueIdenticalComparator(t,n){return Lt(t,n,(r,a)=>r.daySame(a))}computeMaskOptions(t,n,r,a){return Do({separator:n,mode:Xi[t],min:r.toLocalNativeDate(),max:a.toLocalNativeDate()})}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=yt(e)))(r||e)}})(),e.\u0275cmp=I({type:e,selectors:[["tui-input-date",3,"multiple",""]],viewQuery:function(n,r){if(n&1&&te(gt,5),n&2){let a;Tt(a=wt())&&(r.textfield=a.first)}},hostVars:1,hostBindings:function(n,r){n&1&&T("click",function(){return r.onClick()}),n&2&&ot("data-size",r.size)},inputs:{min:"min",max:"max",disabledItemHandler:"disabledItemHandler",markerHandler:"markerHandler",items:"items",defaultActiveYearMonth:"defaultActiveYearMonth"},features:[W([fe(e),ki(e),ge(e),$i(an),Gi]),it],ngContentSelectors:Sa,decls:7,vars:7,consts:[["iconContent",""],["dropdown","polymorpheus"],["tuiDropdownOpenMonitor","",1,"t-hosted",3,"tuiDropdownOpenChange","tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","","class","t-textfield",3,"disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value","focusedChange","valueChange",4,"tuiLet"],[3,"polymorpheus"],["automation-id","tui-input-date-range__textfield","tuiValueAccessor","",1,"t-textfield",3,"focusedChange","valueChange","disabled","focusable","invalid","maskito","nativeId","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"t-icon_small","t-icon","icon","click",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiDate","","class","t-native-input",4,"ngIf"],["automation-id","tui-input-date-range__icon","tuiAppearance","icon",3,"click","icon"],["tuiDate","",1,"t-native-input"],["automation-id","tui-input-date__calendar",3,"dayClick","monthChange","mousedown.prevent.silent","disabledItemHandler","markerHandler","max","min","month","value"],["class","t-button",3,"mousedown.prevent.silent",4,"ngIf"],[1,"t-button",3,"mousedown.prevent.silent"],["tuiLink","","type","button",3,"click"]],template:function(n,r){if(n&1){let a=M();ut(wa),c(0,"div",2),T("tuiDropdownOpenChange",function(l){return b(a),x(r.onOpenChange(l))}),_(1,Ma,3,11,"tui-primitive-textfield",3),w(2,"async"),_(3,Pa,2,5,"ng-template",null,0,J)(5,ka,2,7,"ng-template",4,1,J),d()}if(n&2){let a=q(6);p("tuiDropdown",a)("tuiDropdownEnabled",r.interactive&&!r.nativePicker)("tuiDropdownOpen",r.open),u(),p("tuiLet",V(2,5,r.filler$)),u(4),p("polymorpheus",r.type)}},dependencies:[F,Ae,ue,wi,De,ce,gt,Ie,we,bt,xe,be,Ce,ae,ht,de,me,Ra,Y],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}.t-hosted[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon[_ngcontent-%COMP%]{pointer-events:auto}.t-icon_small[_ngcontent-%COMP%]{border:.25rem solid transparent}.t-button[_ngcontent-%COMP%]{display:flex;height:2.75rem;justify-content:center;box-shadow:inset 0 1px var(--tui-border-normal)}.t-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;text-align:center}.t-native-input[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;pointer-events:auto;font-size:2rem}"],changeDetection:0});let i=e;return xt([dt],i.prototype,"computeMaskOptions",null),i})(),Le=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=At({type:e}),e.\u0275inj=Rt({imports:[z,De,Me,Se,Te,ht,pe]});let i=e;return i})();function ko(i,e,o,t){var n=arguments.length,r=n<3?e:t===null?t=Object.getOwnPropertyDescriptor(e,o):t,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,e,o,t);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(r=(n<3?a(r):n>3?a(e,o,r):a(e,o))||r);return n>3&&r&&Object.defineProperty(e,o,r),r}var Aa=["tuiTime",""];function Va(i,e){if(i&1&&E(0,"option",3),i&2){let o=e.$implicit;An("value",o)}}function Na(i,e){if(i&1&&(c(0,"datalist",1),_(1,Va,1,1,"option",2),d()),i&2){let o=f();p("id",o.autoIdString),u(),p("ngForOf",o.items)}}var La=["*"],Ha=i=>({$implicit:i});function ja(i,e){if(i&1&&(c(0,"button",7),v(1),d()),i&2){let o=e.$implicit,t=f(2);p("disabled",t.disabledItemHandler(o))("value",o),u(),O(" ",o," ")}}function $a(i,e){if(i&1&&(c(0,"tui-data-list",5),_(1,ja,2,3,"button",6),d()),i&2){let o=f();p("size",o.itemSize),u(),p("ngForOf",o.filtered)}}function Ba(i,e){if(i&1&&E(0,"tui-icon",10),i&2){let o=e.polymorpheusOutlet,t=f(2);R("t-icon_small",t.size==="s"),p("icon",o.toString())}}function Ua(i,e){i&1&&E(0,"input",11)}function Wa(i,e){if(i&1&&_(0,Ba,1,3,"tui-icon",8)(1,Ua,1,0,"input",9),i&2){let o=f();p("polymorpheusOutlet",o.icon)("polymorpheusOutletContext",ee(3,Ha,o.size)),u(),p("ngIf",o.showNativePicker)}}var Ya={HH:23,MM:59,SS:59,MS:999},za={icon:()=>"@tui.clock",mode:"HH:MM",maxValues:Ya,itemSize:"m",nativePicker:!1},Ga=re(za);var Xa=(()=>{let e=class e{constructor(){this.host=h(he),this.autoIdString=h(Mi).generate()}get items(){return this.host.items.map(t=>t.toString(this.host.mode))}get value(){return this.host.value.length===this.host.mode.length?this.host.value:""}get step(){switch(this.host.mode){case"HH:MM:SS":return 1;case"HH:MM:SS.MSS":return .001;default:return 60}}onChange(t){this.host.onValueChange(t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["input","tuiTime",""]],hostAttrs:["type","time"],hostVars:4,hostBindings:function(n,r){n&1&&T("change.stop",function(s){return r.onChange(s.target.value)})("click.stop.silent",function(){return 0})("mousedown.stop.silent",function(){return 0}),n&2&&(Jt("tabIndex",-1)("value",r.value)("step",r.step),ot("list",r.autoIdString))},attrs:Aa,decls:1,vars:1,consts:[[3,"id",4,"ngIf"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){n&1&&_(0,Na,2,2,"datalist",0),n&2&&p("ngIf",r.items.length)},dependencies:[X,F],styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;opacity:0;pointer-events:auto;font-size:2rem}"],changeDetection:0});let i=e;return i})(),Ro=(()=>{let e=class e extends ve{constructor(){super(...arguments),this.timeTexts$=h(Ui),this.options=h(Ga),this.isMobile=h(Ot),this.isIOS=h(Ii),this.textfieldSize=h(ye),this.valueTransformer=h(Bi,{optional:!0}),this.open=!1,this.disabledItemHandler=et,this.items=[],this.itemSize=this.options.itemSize,this.strict=!1,this.mode=this.options.mode,this.identityMatcher=(t,n)=>t instanceof $t&&t.valueOf()===n.valueOf()}get size(){return this.textfieldSize.size}get nativeFocusableElement(){return this.textfield?.nativeFocusableElement??null}get focused(){return Si(this.nativeFocusableElement)}get computedValue(){return this.value?this.value.toString(this.mode):this.nativeValue}get nativeValue(){return this.nativeFocusableElement?.value||""}set nativeValue(t){this.nativeFocusableElement&&(this.nativeFocusableElement.value=t)}checkOption(t){t.valueOf()===this.value?.valueOf()&&(this.value=t)}handleOption(t){this.focusInput(),this.value=t}writeValue(t){super.writeValue(t),this.nativeValue=t?this.computedValue:""}onValueChange(t){this.open=!!this.items.length,this.control&&this.control.updateValueAndValidity({emitEvent:!1});let n=this.getMatch(t);if(n!==void 0){this.value=n;return}if(t.length!==this.mode.length){this.value=null;return}let r=$t.fromString(t);this.value=this.strict?this.findNearestTimeFromItems(r):r}get canOpen(){return this.interactive&&!!this.filtered.length}get filtered(){return this.filter(this.items,this.mode,this.computedSearch)}get showNativePicker(){return this.nativePicker&&(!this.isIOS||this.mode==="HH:MM"&&!this.items.length)}get nativeDatalist(){return this.nativePicker&&!this.isIOS}get maskOptions(){return this.calculateMask(this.mode)}get computedSearch(){return this.computedValue.length!==this.mode.length?this.computedValue:""}get innerPseudoFocused(){return this.pseudoFocus===!1?!1:this.open&&this.canOpen||this.computedFocused?!0:null}get icon(){return this.options.icon}getFiller$(t){return this.timeTexts$.pipe(P(n=>n[t]))}onClick(){this.open=!this.open}onFocused(t){this.updateFocused(t),!(t||this.value!==null||this.nativeValue==="")&&(this.value=$t.fromString(this.nativeValue),xn(0).pipe(ie(this.destroyRef)).subscribe(()=>{(this.nativeValue.endsWith(".")||this.nativeValue.endsWith(":"))&&(this.nativeValue=this.nativeValue.slice(0,-1))}))}onArrowUp(t){this.items.length||this.processArrow(t,1)}onArrowDown(t){this.items.length||this.processArrow(t,-1)}onOpen(t){this.open=t}get nativePicker(){return!!this.options.nativePicker&&this.isMobile}calculateMask(t){let{HH:n,MM:r,SS:a,MS:s}=this.options.maxValues;return Po({mode:t,timeSegmentMaxValues:{hours:n,minutes:r,seconds:a,milliseconds:s}})}filter(t,n,r){return t.filter(a=>a.toString(n).includes(r))}findNearestTimeFromItems(t){return this.items.reduce((n,r)=>Math.abs(r.valueOf()-t.valueOf())<Math.abs(n.valueOf()-t.valueOf())?r:n,new $t(0,0))}getMatch(t){return this.items.find(n=>li(n,t))}close(){this.open=!1}processArrow(t,n){let{target:r}=t;if(this.readOnly||!ai(r)||!ri(r))return;let a=r.selectionStart||0;this.shiftTime(this.calculateShift(a,n)),r.setSelectionRange(a,a),t.preventDefault()}calculateShift(t,n){return t<=2?{hours:n}:t<=5?{minutes:n}:t<=8?{seconds:n}:{ms:n}}shiftTime(t){if(this.value===null)return;let n=this.value.shift(t);this.nativeValue=n.toString(this.mode),this.value=n}focusInput(t=!1){this.nativeFocusableElement&&(this.nativeFocusableElement.focus({preventScroll:t}),this.close())}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=yt(e)))(r||e)}})(),e.\u0275cmp=I({type:e,selectors:[["tui-input-time"]],viewQuery:function(n,r){if(n&1&&te(gt,5),n&2){let a;Tt(a=wt())&&(r.textfield=a.first)}},hostVars:1,hostBindings:function(n,r){n&1&&T("click",function(){return r.onClick()}),n&2&&ot("data-size",r.size)},inputs:{disabledItemHandler:"disabledItemHandler",items:"items",itemSize:"itemSize",strict:"strict",mode:"mode"},features:[W([fe(e),ge(e),Fi(e),Ri(Qi)],[Zi]),it],ngContentSelectors:La,decls:9,vars:17,consts:[["dropdownContent",""],["iconContent",""],["tuiDropdownOpenMonitor","",1,"t-wrapper",3,"tuiActiveZoneChange","tuiDropdownOpenChange","tuiDropdown","tuiDropdownEnabled","tuiDropdownOpen"],["tuiValueAccessor","",1,"t-textfield",3,"keydown.arrowDown","keydown.arrowUp","valueChange","disabled","focusable","invalid","maskito","nativeId","pseudoActive","pseudoFocus","pseudoHover","readOnly","tuiTextfieldFiller","tuiTextfieldIcon","value"],["inputmode","numeric","tuiTextfieldLegacy",""],["automation-id","tui-input-time__dropdown",3,"size"],["automation-id","tui-input-time__item","tuiOption","",3,"disabled","value",4,"ngFor","ngForOf"],["automation-id","tui-input-time__item","tuiOption","",3,"disabled","value"],["tuiAppearance","icon",3,"t-icon_small","icon",4,"polymorpheusOutlet","polymorpheusOutletContext"],["tuiTime","",4,"ngIf"],["tuiAppearance","icon",3,"icon"],["tuiTime",""]],template:function(n,r){if(n&1){let a=M();ut(),c(0,"div",2),T("tuiActiveZoneChange",function(l){return b(a),x(r.onFocused(l))})("tuiDropdownOpenChange",function(l){return b(a),x(r.onOpen(l))}),c(1,"tui-primitive-textfield",3),w(2,"async"),T("keydown.arrowDown",function(l){return b(a),x(r.onArrowDown(l))})("keydown.arrowUp",function(l){return b(a),x(r.onArrowUp(l))})("valueChange",function(l){return b(a),x(r.onValueChange(l))}),Q(3),E(4,"input",4),d()(),_(5,$a,2,2,"ng-template",null,0,J)(7,Wa,2,5,"ng-template",null,1,J)}if(n&2){let a=q(6),s=q(8);p("tuiDropdown",a)("tuiDropdownEnabled",r.canOpen&&!r.nativeDatalist)("tuiDropdownOpen",r.canOpen&&r.open),u(),p("disabled",r.disabled)("focusable",r.focusable)("invalid",r.computedInvalid)("maskito",r.maskOptions)("nativeId",r.nativeId)("pseudoActive",r.pseudoActive)("pseudoFocus",r.innerPseudoFocused)("pseudoHover",r.pseudoHover)("readOnly",r.readOnly)("tuiTextfieldFiller",V(2,15,r.getFiller$(r.mode))||"")("tuiTextfieldIcon",s)("value",r.computedValue)}},dependencies:[X,F,Ae,gt,Ie,Ki,we,xe,be,ue,Ce,ht,ae,de,me,Ut,Bt,Xa,Y],styles:["[_nghost-%COMP%]{display:block;border-radius:var(--tui-radius-m);text-align:left}._disabled[_nghost-%COMP%]{pointer-events:none}.t-wrapper[_ngcontent-%COMP%]{display:block;border-radius:inherit}.t-textfield[_ngcontent-%COMP%]{border-radius:inherit;text-align:inherit}.t-icon_small[_ngcontent-%COMP%]{border:.25rem solid transparent}"],changeDetection:0});let i=e;return xt([dt],i.prototype,"getFiller$",null),xt([dt],i.prototype,"calculateMask",null),xt([dt],i.prototype,"filter",null),i})(),Fo=(()=>{let e=class e extends _e{get value(){return this.host.computedValue}get mode(){return this.host.mode}get items(){return this.host.items}onValueChange(t){t||(this.host.nativeValue=""),this.host.onValueChange(t)}process(t){t.inputMode="numeric"}};e.\u0275fac=(()=>{let t;return function(r){return(t||(t=yt(e)))(r||e)}})(),e.\u0275dir=D({type:e,selectors:[["tui-input-time"]],features:[W([Wt(e)]),it]});let i=e;return i})(),Ao=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=At({type:e}),e.\u0275inj=Rt({imports:[z,qi,Me,Se,Te,ht,pe,Ut,Bt]});let i=e;return i})();var He=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiItem",""]],standalone:!0});let i=e;return i})();var Vo=(()=>{let e=class e extends st{constructor(){let t=pt(),n=h(ne);super(r=>{lt(G(t,"touchstart",{passive:!0}),G(t,"mousedown")).pipe(kt(()=>lt(G(n,"touchmove",{passive:!0}).pipe(vt(({touches:a})=>a.length<2),P(({touches:a})=>a[0])),G(n,"mousemove"))),Kt(),P(([a,s])=>{let l=s.clientX-a.clientX,m=s.clientY-a.clientY;return[l,m]}),Mn(lt(G(n,"touchend"),G(n,"mouseup"))),Sn()).subscribe(r)})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac});let i=e;return i})(),No=(()=>{let e=class e{constructor(){this.tuiPan=h(Vo)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiPan",""]],outputs:{tuiPan:"tuiPan"},standalone:!0,features:[W([Vo])]});let i=e;return i})();var Ka=re({timeout:500,threshold:30}),Lo=(()=>{let e=class e extends st{constructor(){let t=h(ne),n=pt(),{timeout:r,threshold:a}=h(Ka);super(s=>{lt(G(n,"touchstart",{passive:!0}),G(t,"touchend")).pipe(Kt(),vt(([l,m])=>!!l.touches.length&&l.touches[0].identifier===m.changedTouches[0].identifier),P(([l,m])=>{let g=l.touches[0].clientX,y=l.touches[0].clientY,C=m.changedTouches[0].clientX,S=m.changedTouches[0].clientY,N=g-C,U=y-S,L=m.timeStamp-l.timeStamp;return(Math.abs(N)>a||Math.abs(U)>a)&&L<r?{direction:Qa(N,U),events:[l,m]}:null}),vt(ii)).subscribe(s)})}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ct({token:e,factory:e.\u0275fac});let i=e;return i})();function Qa(i,e){return Math.abs(e)>Math.abs(i)?e>0?"top":"bottom":i>0?"left":"right"}var Ho=(()=>{let e=class e{constructor(){this.tuiSwipe=h(Lo)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiSwipe",""]],outputs:{tuiSwipe:"tuiSwipe"},standalone:!0,features:[W([Lo])]});let i=e;return i})();var Pt=class i{http=h(zn);apiUrl="/api/search";searchResponseSubject=new Et(null);searchResponse$=this.searchResponseSubject.asObservable();loadingSubject=new Et(!1);loading$=this.loadingSubject.asObservable();searchTrips(e){this.loadingSubject.next(!0);let o=new Yn().set("fromLatitude",e.fromLatitude).set("fromLongitude",e.fromLongitude).set("toLatitude",e.toLatitude).set("toLongitude",e.toLongitude);return e.time&&(o=o.set("time",e.time)),this.http.get(this.apiUrl,{params:o}).pipe(Qt(t=>{this.searchResponseSubject.next(t),this.loadingSubject.next(!1)}),Tn(t=>(this.loadingSubject.next(!1),Cn(()=>t))))}static \u0275fac=function(o){return new(o||i)};static \u0275prov=ct({token:i,factory:i.\u0275fac,providedIn:"root"})};var qa=typeof IntersectionObserver<"u"?IntersectionObserver:class{root=null;rootMargin="";thresholds=[];observe(){}unobserve(){}disconnect(){}takeRecords(){return[]}},Ja=new Ft("[WA_INTERSECTION_ROOT]"),$o=Ja,ts="0px 0px 0px 0px",Bo=ts,wu=new Ft("[WA_INTERSECTION_ROOT_MARGIN]",{providedIn:"root",factory:()=>Bo});function es(){return h(Ct).nativeElement.getAttribute("waIntersectionRootMargin")||Bo}var ns=0,Uo=ns,Su=new Ft("[WA_INTERSECTION_THRESHOLD]",{providedIn:"root",factory:()=>Uo});function is(){return h(Ct).nativeElement.getAttribute("waIntersectionThreshold")?.split(",").map(parseFloat)||Uo}var gn=(()=>{class i extends qa{callbacks=new Map;margin="";threshold="";constructor(){let o=h($o,{optional:!0});super(t=>{this.callbacks.forEach((n,r)=>{let a=t.filter(({target:s})=>s===r);return a.length&&n(a,this)})},{root:o?.nativeElement,rootMargin:es(),threshold:is()})}observe(o,t=()=>{}){super.observe(o),this.callbacks.set(o,t)}unobserve(o){super.unobserve(o),this.callbacks.delete(o)}ngOnDestroy(){this.disconnect()}static \u0275fac=function(t){return new(t||i)};static \u0275dir=D({type:i,selectors:[["","waIntersectionObserver",""]],inputs:{waIntersectionRootMargin:[0,"margin","waIntersectionRootMargin"],waIntersectionThreshold:[0,"threshold","waIntersectionThreshold"]},exportAs:["IntersectionObserver"],standalone:!0,features:[it]})}return i})();var jo=(()=>{class i extends st{constructor(){let o=h(Ct).nativeElement,t=h(gn);return super(n=>(t.observe(o,r=>{n.next(r)}),()=>{t.unobserve(o)})),this.pipe(In())}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ct({token:i,factory:i.\u0275fac})}return i})(),Wo=(()=>{class i{waIntersectionObservee=h(jo);static \u0275fac=function(t){return new(t||i)};static \u0275dir=D({type:i,selectors:[["","waIntersectionObservee",""]],outputs:{waIntersectionObservee:"waIntersectionObservee"},standalone:!0,features:[W([jo])]})}return i})();var Yo=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=D({type:i,selectors:[["","waIntersectionRoot",""]],standalone:!0,features:[W([{provide:$o,useExisting:Ct}])]})}return i})();var Iu=new Ft("[WA_INTERSECTION_OBSERVER_SUPPORT]: [INTERSECTION_OBSERVER_SUPPORT]",{providedIn:"root",factory:()=>!!h(di).IntersectionObserver});function rs(i,e){i&1&&Ke(0)}function as(i,e){if(i&1){let o=M();c(0,"fieldset",5),T("waIntersectionObservee",function(n){let r=b(o).index,a=f();return x(a.onIntersection(n[0],r))}),Ke(1,6),d()}if(i&2){let o=e.$implicit,t=e.index,n=f();p("disabled",n.isDisabled(t))("ngStyle",n.getStyle(n.itemsCount)),u(),p("ngTemplateOutlet",o)}}var _n=(()=>{let e=class e extends st{constructor(){super(t=>this.output$.subscribe(t)),this.el=pt(),this.visible$=h(pi),this.duration$=new Et(0),this.running$=lt(G(this.el,"mouseenter").pipe(P(et)),G(this.el,"touchstart").pipe(P(et)),G(this.el,"touchend").pipe(P(Qe)),G(this.el,"mouseleave").pipe(P(Qe)),this.visible$),this.output$=bn([this.duration$,this.running$]).pipe(mi(([t])=>yn(t),t=>t.every(Boolean)))}set duration(t){this.duration$.next(Number.isNaN(t)?this.duration$.value:t)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,inputs:{duration:"duration"},standalone:!0,features:[it]});let i=e;return i})(),ss=(()=>{let e=class e{constructor(){this.tuiCarouselAutoscroll=h(_n)}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiCarouselAutoscroll",""]],outputs:{tuiCarouselAutoscroll:"tuiCarouselAutoscroll"},standalone:!0});let i=e;return i})(),ls=(()=>{let e=class e{constructor(){this.el=pt(),this.tuiCarouselScroll=G(this.el,"wheel").pipe(vt(({deltaX:t})=>Math.abs(t)>20),On(500),P(({deltaX:t})=>Math.sign(t)),Qt(()=>{this.el.scrollLeft=10}))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiCarouselScroll",""]],outputs:{tuiCarouselScroll:"tuiCarouselScroll"},standalone:!0});let i=e;return i})(),zo=(()=>{let e=class e{constructor(){this.el=pt(),this.cdr=h($n),this.isMobile=h(Ot),this.directive=h(_n),this.translate=0,this.items=si,this.transitioned=!0,this.index=0,this.draggable=!1,this.itemsCount=1,this.indexChange=new $}set indexSetter(t){this.index=t,this.directive.duration=NaN}next(){this.items&&this.index===this.items.length-this.itemsCount||this.updateIndex(this.index+1)}prev(){this.updateIndex(this.index-1)}get transform(){return`translateX(${100*(this.transitioned?this.computedTranslate:this.translate)}%)`}onTransitioned(t){this.transitioned=t,t||(this.translate=this.computedTranslate)}getStyle(t){let n=`${100/t}%`;return{flexBasis:n,minWidth:n,maxWidth:n}}isDisabled(t){return t<this.index||t>this.index+this.itemsCount}onIntersection({intersectionRatio:t},n){t&&t!==1&&!this.transitioned&&this.updateIndex(n-Math.floor(this.itemsCount/2))}onScroll(t){this.isMobile||(t>0?this.next():this.prev())}onPan(t){if(!this.computedDraggable)return;let n=1-this.items.length/this.itemsCount;this.translate=Ht(t/this.el.clientWidth+this.translate,n,0)}onSwipe(t){t==="left"?this.next():t==="right"&&this.prev()}onAutoscroll(){this.updateIndex(this.index===this.items.length-1?0:this.index+1)}get computedTranslate(){return-this.index/this.itemsCount}get computedDraggable(){return this.isMobile||this.draggable}updateIndex(t){this.index=Ht(t,0,this.items.length-1),this.indexChange.emit(this.index),this.cdr.markForCheck()}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["tui-carousel"]],contentQueries:function(n,r,a){if(n&1&&Vn(a,He,4,qt),n&2){let s;Tt(s=wt())&&(r.items=s)}},hostVars:4,hostBindings:function(n,r){n&1&&T("touchstart",function(){return r.onTransitioned(!1)})("touchend",function(){return r.onTransitioned(!0)})("mousedown",function(){return r.onTransitioned(!1)})("mouseup.silent",function(){return r.onTransitioned(!0)},!1,kn),n&2&&R("_transitioned",r.transitioned)("_draggable",r.draggable)},inputs:{draggable:"draggable",itemsCount:"itemsCount",indexSetter:[0,"index","indexSetter"]},outputs:{indexChange:"indexChange"},standalone:!0,features:[Fn([{directive:_n,inputs:["duration","duration"]}]),k],decls:6,vars:6,consts:[[4,"ngIf"],[1,"t-scroller",3,"tuiCarouselScroll"],["waIntersectionObserver","","waIntersectionRoot","","waIntersectionRootMargin","100px 1000000px 100px -51%","waIntersectionThreshold","0,1",1,"t-wrapper"],[1,"t-items",3,"tuiCarouselAutoscroll","tuiPan","tuiSwipe"],["class","t-item",3,"disabled","ngStyle","waIntersectionObservee",4,"ngFor","ngForOf"],[1,"t-item",3,"waIntersectionObservee","disabled","ngStyle"],[3,"ngTemplateOutlet"]],template:function(n,r){n&1&&(_(0,rs,1,0,"ng-container",0),w(1,"async"),c(2,"div",1),T("tuiCarouselScroll",function(s){return r.onScroll(s)}),c(3,"div",2)(4,"div",3),T("tuiCarouselAutoscroll",function(){return r.onAutoscroll()})("tuiPan",function(s){return r.onPan(s[0])})("tuiSwipe",function(s){return r.onSwipe(s.direction)}),_(5,as,2,3,"fieldset",4),d()()()),n&2&&(p("ngIf",V(1,4,r.items.changes)),u(4),rt("transform",r.transform),u(),p("ngForOf",r.items))},dependencies:[Y,F,X,Bn,Un,gn,Wo,Yo,No,Ho,ls,ss],styles:['[_nghost-%COMP%]{position:relative;display:block;overflow:hidden}._draggable[_nghost-%COMP%]{-webkit-user-select:none;user-select:none}._draggable[_nghost-%COMP%]:hover{cursor:grab}._draggable[_nghost-%COMP%]:active{cursor:grabbing}.t-items[_ngcontent-%COMP%]{display:flex}._transitioned[_nghost-%COMP%]   .t-items[_ngcontent-%COMP%]{transition-property:transform;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out}  [tuiCarouselButtons] [tuiIconButton]{border-radius:100%}.t-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;padding:var(--tui-carousel-padding, 0 1.25rem);flex:1;min-width:100%;max-width:100%;box-sizing:border-box;border:none;margin:0}.t-wrapper[_ngcontent-%COMP%]{position:sticky;left:0;right:0;min-width:100%;overflow:hidden}.t-scroller[_ngcontent-%COMP%]{scrollbar-width:none;-ms-overflow-style:none;display:flex;overflow:auto;overscroll-behavior-x:none}.t-scroller[_ngcontent-%COMP%]::-webkit-scrollbar, .t-scroller[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{display:none}.t-scroller[_ngcontent-%COMP%]:before, .t-scroller[_ngcontent-%COMP%]:after{content:"";display:block;min-width:1rem}'],changeDetection:0});let i=e;return ko([dt],i.prototype,"getStyle",null),i})(),Go=(()=>{let e=class e{};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiCarouselButtons",""]],standalone:!0,features:[W([xi({appearance:"secondary",size:"m"})])]});let i=e;return i})();function cs(i,e){if(i&1){let o=M();c(0,"div",8)(1,"button",9),T("click",function(){b(o);let n=f().$implicit,r=f();return x(r.onDateClick(n))}),c(2,"div",10),v(3),w(4,"date"),d(),c(5,"div",11),v(6),w(7,"date"),d()()()}if(i&2){let o=f().$implicit,t=f();u(2),R("selected-date",t.isDateSelected(o)),u(),O(" ",B(4,6,o.toUtcNativeDate(),"MMMM d")," "),u(2),R("selected-date",t.isDateSelected(o)),u(),O(" ",B(7,9,o.toUtcNativeDate(),"EEEE")," ")}}function us(i,e){i&1&&(H(0,6),_(1,cs,8,12,"div",7),j())}var je=class i{dates=[];selectedDate=null;dateSelected=new $;addMoreDates=new $;carouselIndex=0;onDateClick(e){this.dateSelected.emit(e)}isDateSelected(e){return this.selectedDate?this.selectedDate.daySame(e):!1}prev(){this.carouselIndex>0&&(this.carouselIndex-=1)}next(){this.carouselIndex+=1,this.addMoreDates.emit()}get visibleDates(){return this.dates.slice(this.carouselIndex,this.carouselIndex+4)}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=I({type:i,selectors:[["app-date-filter"]],inputs:{dates:"dates",selectedDate:"selectedDate"},outputs:{dateSelected:"dateSelected",addMoreDates:"addMoreDates"},standalone:!0,features:[k],decls:8,vars:4,consts:[["carousel",""],["tuiCarouselButtons","",1,"wrapper"],["iconStart","@tui.chevron-left","tuiIconButton","","type","button",3,"click"],[3,"itemsCount"],["class","carousel",4,"ngFor","ngForOf"],["iconStart","@tui.chevron-right","tuiIconButton","","type","button",3,"click"],[1,"carousel"],["class","item",4,"tuiItem"],[1,"item"],["tuiButton","","appearance","flat",1,"button",3,"click"],[1,"date"],[1,"day"]],template:function(o,t){if(o&1){let n=M();c(0,"div",1)(1,"button",2),T("click",function(){return b(n),x(t.prev())}),v(2,"Previous"),d(),c(3,"tui-carousel",3,0),_(5,us,2,0,"ng-container",4),d(),c(6,"button",5),T("click",function(){return b(n),x(t.next())}),v(7,"Next"),d()()}o&2&&(u(3),rt("--tui-carousel-padding",0),p("itemsCount",t.visibleDates.length),u(2),p("ngForOf",t.visibleDates))},dependencies:[He,zo,Go,ft,z,X,St],styles:["[_ngcontent-%COMP%]:root{--auth-font-weight: 600;--auth-container-width: 300px;--auth-container-padding: 20px;--auth-form-flex-gap: 20px;--auth-input-padding: 10px 5px}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%}.button[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-direction:column;gap:0;align-items:center;justify-content:center;height:50px;padding:0}.date[_ngcontent-%COMP%]{margin:0;font-size:12px;line-height:12px;color:#fff}.day[_ngcontent-%COMP%]{margin:0;font-size:10px;line-height:16px;color:#fff}.selected-date[_ngcontent-%COMP%]{color:var(--tui-chart-categorical-02)}@media (min-width: 320px) and (max-width: 424px){[_nghost-%COMP%]{display:none}}"]})};function ds(i,e){if(i&1){let o=M();c(0,"button",16),T("click",function(){let n,r=b(o).$implicit,a=f(4);return x((n=a.form.get("from"))==null?null:n.setValue(r))}),v(1),d()}if(i&2){let o=e.$implicit;p("value",o),u(),O(" ",o," ")}}function ps(i,e){if(i&1&&(c(0,"tui-data-list"),_(1,ds,2,2,"button",15),d()),i&2){let o=f(2).tuiLet;u(),p("ngForOf",o)}}function ms(i,e){i&1&&(H(0),_(1,ps,2,1,"tui-data-list",14),j())}function fs(i,e){if(i&1&&(c(0,"tui-input",11),v(1," From "),E(2,"span",12),_(3,ms,2,0,"ng-container",13),d()),i&2){let o=e.tuiLet;u(3),p("ngIf",o==null?null:o.length)}}function hs(i,e){if(i&1){let o=M();c(0,"button",16),T("click",function(){let n,r=b(o).$implicit,a=f(4);return x((n=a.form.get("to"))==null?null:n.setValue(r))}),v(1),d()}if(i&2){let o=e.$implicit;p("value",o),u(),O(" ",o," ")}}function gs(i,e){if(i&1&&(c(0,"tui-data-list"),_(1,hs,2,2,"button",15),d()),i&2){let o=f(2).tuiLet;u(),p("ngForOf",o)}}function _s(i,e){i&1&&(H(0),_(1,gs,2,1,"tui-data-list",14),j())}function vs(i,e){if(i&1&&(c(0,"tui-input",17),v(1," To "),E(2,"span",12),_(3,_s,2,0,"ng-container",13),d()),i&2){let o=e.tuiLet;u(3),p("ngIf",o==null?null:o.length)}}function Cs(i,e){i&1&&(c(0,"div",3)(1,"tui-input-time",18),v(2,"Time (optional) "),d()())}var $e=class i{store=h(Hi);trainService=h(Pt);alertService=h(Oi);minDate=tt.currentLocal();stations$=this.store.select(eo);selectedDate=null;ngOnInit(){this.store.dispatch(ji.loadStationList());let e=this.form.get("date")?.value||null;this.selectedDate=e}form=new Kn({from:new Nt(null,oe.required),to:new Nt(null,oe.required),date:new Nt(this.minDate,oe.required),time:new Nt(null)});isDateSelected(){return this.form.get("date")?.valid??!1}onSearch(){this.form.valid&&this.prepareSearchRequest().subscribe(e=>{e&&this.trainService.searchTrips(e).subscribe({next:o=>{console.log("Search Response:",o)},error:o=>{o.error?.reason==="stationNotFound"?this.showNotification(o.error.message,"Error"):this.showNotification("An unexpected error occurred.","Error")}})})}showNotification(e,o){this.alertService.open(e,{label:o}).subscribe()}prepareSearchRequest(){return this.stations$.pipe(wn(1),P(e=>{let o=this.form.get("from").value,t=this.form.get("to").value;if(!o||!t)return null;let n=e.find(m=>m.city===o),r=e.find(m=>m.city===t);if(!n||!r)return null;let a=this.form.get("date").value,s=this.form.get("time").value,l=s?a.append(s).toUtcNativeDate().getTime():a.toUtcNativeDate().getTime();return{fromLatitude:n.latitude,fromLongitude:n.longitude,toLatitude:r.latitude,toLongitude:r.longitude,time:l}}))}swapFromTo(){let e=this.form.get("from")?.value??null,o=this.form.get("to")?.value??null;this.form.get("from")?.setValue(o),this.form.get("to")?.setValue(e)}itemsFrom$=this.form.get("from").valueChanges.pipe(Xe(""),kt(e=>this.stations$.pipe(P(o=>o.map(t=>t.city).filter(t=>qe(t,e))))));itemsTo$=this.form.get("to").valueChanges.pipe(Xe(""),kt(e=>this.stations$.pipe(P(o=>o.map(t=>t.city).filter(t=>qe(t,e))))));availableDates=i.generateDates(this.minDate,4);onDateSelected(e){this.selectedDate=e,this.form.get("date")?.setValue(e),this.onSearch()}addFutureDates(){let o=this.availableDates[this.availableDates.length-1].append({day:1});this.availableDates=[...this.availableDates,o]}static generateDates(e,o){return Array.from({length:o},(t,n)=>e.append({day:n}))}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=I({type:i,selectors:[["app-search-form"]],standalone:!0,features:[k],decls:18,vars:16,consts:[[1,"wrapper"],[1,"form",3,"ngSubmit","formGroup"],[1,"tui-form__row","tui-form__row_multi-fields","center"],[1,"tui-form__multi-field"],["formControlName","from",4,"tuiLet"],["appearance","destructive","iconStart","@tui.fa.solid.right-left","size","s","tuiIconButton","","type","button",1,"tui-icon-button",3,"click"],["formControlName","to",4,"tuiLet"],["formControlName","date","tuiTextfieldSize","s",3,"min"],["class","tui-form__multi-field",4,"ngIf"],["size","l","tuiButton","","type","submit",1,"tui-form__button",3,"disabled"],[3,"dateSelected","addMoreDates","dates","selectedDate"],["formControlName","from"],[1,"tui-required"],[4,"ngIf"],[4,"tuiDataList"],["tuiOption","",3,"value","click",4,"ngFor","ngForOf"],["tuiOption","",3,"click","value"],["formControlName","to"],["formControlName","time","tuiTextfieldSize","s"]],template:function(o,t){if(o&1&&(c(0,"div",0)(1,"form",1),T("ngSubmit",function(){return t.onSearch()}),c(2,"div",2)(3,"div",3),_(4,fs,4,1,"tui-input",4),w(5,"async"),d(),c(6,"button",5),T("click",function(){return t.swapFromTo()}),v(7," icon "),d(),c(8,"div",3),_(9,vs,4,1,"tui-input",6),w(10,"async"),d(),c(11,"div",3)(12,"tui-input-date",7),v(13,"Date"),d()(),_(14,Cs,3,0,"div",8),c(15,"button",9),v(16,"Search"),d()()(),c(17,"app-date-filter",10),T("dateSelected",function(r){return t.onDateSelected(r)})("addMoreDates",function(){return t.addFutureDates()}),d()()),o&2){let n;u(),p("formGroup",t.form),u(3),p("tuiLet",V(5,12,t.itemsFrom$)),u(2),rt("border-radius",100,"%")("color","var(--tui-text-primary-on-accent-1)"),u(3),p("tuiLet",V(10,14,t.itemsTo$)),u(3),p("min",t.minDate),u(2),p("ngIf",t.isDateSelected()),u(),p("disabled",!t.form.valid),u(2),p("dates",t.availableDates)("selectedDate",(n=(n=t.form.get("date"))==null?null:n.value)!==null&&n!==void 0?n:null)}},dependencies:[z,X,F,Y,ti,Qn,Xn,Zn,qn,Jn,Oe,Ji,to,Le,Eo,hn,ft,Ao,Ro,Fo,Ut,Ai,Bt,bt,je],styles:["[_ngcontent-%COMP%]:root{--auth-font-weight: 600;--auth-container-width: 300px;--auth-container-padding: 20px;--auth-form-flex-gap: 20px;--auth-input-padding: 10px 5px}[_nghost-%COMP%]{display:flex;box-sizing:border-box;width:100%;max-width:1200px;margin:20px 0;padding:20px 16px;background-color:var(--tui-text-primary);border-radius:10px}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;width:100%}.form[_ngcontent-%COMP%]{width:100%}.center[_ngcontent-%COMP%]{align-items:center}.tui-icon-button[_ngcontent-%COMP%]{margin-left:20px;transition:background-color .3s ease,transform .3s ease}.tui-icon-button[_ngcontent-%COMP%]:hover{transform:scale(1.1);color:var(--tui-text-on-primary);background-color:var(--tui-primary)}.tui-icon-button[_ngcontent-%COMP%]:active{transform:scale(1.05)}@media (min-width: 1024px) and (max-width: 1439px){[_nghost-%COMP%]{max-width:986px}}@media (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}}@media (min-width: 425px) and (max-width: 767px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}.center[_ngcontent-%COMP%]{align-items:center;justify-content:center}.tui-icon-button[_ngcontent-%COMP%]{margin-top:10px}.tui-form__button[_ngcontent-%COMP%]{margin-right:auto;margin-left:auto}}@media (min-width: 320px) and (max-width: 424px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}.tui-icon-button[_ngcontent-%COMP%]{margin-top:10px}.center[_ngcontent-%COMP%]{align-items:center;justify-content:center}.tui-form__button[_ngcontent-%COMP%]{width:100%}}"]})};function bs(i,e){if(i&1&&(H(0),c(1,"td",5)(2,"div",10),v(3),w(4,"date"),d(),c(5,"div",10),v(6),w(7,"date"),d()(),E(8,"td",6),c(9,"td",7),v(10),d(),j()),i&2){let o=f(),t=o.$implicit,n=o.index,r=f();u(3),O(" ",B(4,3,r.getSegmentArrivalTime(n),"shortTime")," "),u(3),Z(B(7,6,t.time[0],"shortTime")),u(4),Z(r.calculateStopDuration(t,n))}}function xs(i,e){if(i&1&&(c(0,"tr",1),_(1,bs,11,9,"ng-container",9),d()),i&2){let o=e.index;u(),p("ngIf",o>0)}}var Be=class i{context=h(yi);get data(){return this.context.data}getSegmentArrivalTime(e){return e>0?this.data.route.schedule[0].segments[e-1].time[1]:""}calculateStopDuration(e,o){let t=new Date(e.time[0]).getTime(),n=o>0?new Date(this.data.route.schedule[0].segments[o-1].time[1]).getTime():t;return`${(t-n)/(1e3*60)} min`}static \u0275fac=function(o){return new(o||i)};static \u0275cmp=I({type:i,selectors:[["app-route-modal"]],standalone:!0,features:[k],decls:26,vars:11,consts:[[1,"tui-table"],[1,"tui-table__tr","tui-table__tr_border_none"],[1,"tui-table__th","tui-table__th_first"],[1,"tui-table__th"],[1,"tui-table__th","tui-table__th_last"],[1,"tui-table__td","tui-table__td_first"],[1,"tui-table__td"],[1,"tui-table__td","tui-table__td_last"],["class","tui-table__tr tui-table__tr_border_none",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tui-text_body-s-2"]],template:function(o,t){o&1&&(c(0,"table",0)(1,"tbody")(2,"tr",1)(3,"th",2),v(4,"Time"),d(),c(5,"th",3),v(6,"Station"),d(),c(7,"th",4),v(8,"Stop"),d()(),c(9,"tr",1)(10,"td",5),v(11),w(12,"date"),d(),c(13,"td",6),v(14),d(),c(15,"td",7),v(16,"first station"),d()(),_(17,xs,2,1,"tr",8),c(18,"tr",1)(19,"td",5),v(20),w(21,"date"),d(),c(22,"td",6),v(23),d(),c(24,"td",7),v(25,"last station"),d()()()()),o&2&&(u(11),O(" ",B(12,5,t.data.route.schedule[0].time[0],"MMM d, h:mm a")," "),u(3),Z(t.data.from.city),u(3),p("ngForOf",t.data.route.schedule[0].segments),u(3),O(" ",B(21,8,t.data.route.schedule[0].time[1],"MMM d, h:mm a")," "),u(3),Z(t.data.to.city))},dependencies:[z,X,F,St],styles:['.tui-table__th[_ngcontent-%COMP%]{text-align:center}.tui-table__th[_ngcontent-%COMP%]{text-align:left}.tui-table__td[_ngcontent-%COMP%]{vertical-align:middle}.tui-table__td_first[_ngcontent-%COMP%]{border-right:1px solid var(--tui-text-action)}.tui-table__th_first[_ngcontent-%COMP%], .tui-table__td_first[_ngcontent-%COMP%], .tui-table__td_last[_ngcontent-%COMP%], .tui-table__th_last[_ngcontent-%COMP%]{text-align:end}.tui-table__td_first[_ngcontent-%COMP%], .tui-table__th_first[_ngcontent-%COMP%]{width:100px}.tui-table__td_first[_ngcontent-%COMP%]{position:relative;border-right:1px solid var(--tui-text-action)}.tui-table__td_first[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;right:-5px;transform:translateY(-50%);width:8px;height:8px;border:1px solid var(--tui-text-action);border-radius:50%}.tui-table__tr[_ngcontent-%COMP%]:last-child   .tui-table__td_first[_ngcontent-%COMP%]:after{right:-8px;width:14px;height:14px;background-color:var(--tui-text-action)}.tui-table__tr[_ngcontent-%COMP%]:nth-child(2)   .tui-table__td_first[_ngcontent-%COMP%]:after{right:-7px;width:12px;height:12px;background-color:var(--tui-text-action)}']})};var ys=[[["","tuiSlot","top"]],[["h1"],["h2"],["h3"],["h4"],["h5"],["h6"]],"*",[["a"],["button"],["","tuiSlot","action"]]],Ts=["[tuiSlot='top']","h1,h2,h3,h4,h5,h6","*","a,button,[tuiSlot='action']"],Xo=(()=>{let e=class e{constructor(){this.card=!1}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=I({type:e,selectors:[["tui-block-status"]],hostVars:2,hostBindings:function(n,r){n&2&&R("_card",r.card)},inputs:{card:"card"},standalone:!0,features:[k],ngContentSelectors:Ts,decls:7,vars:0,consts:[[1,"t-block-image"],[1,"t-block-text"],[1,"t-block-actions"]],template:function(n,r){n&1&&(ut(ys),c(0,"div",0),Q(1),d(),Q(2,1),c(3,"div",1),Q(4,2),d(),c(5,"div",2),Q(6,3),d())},styles:[`tui-block-status{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;box-sizing:border-box;overflow:hidden;width:100%;height:100%}tui-block-status._card{border-radius:var(--tui-radius-xl);padding:2rem}tui-block-status .t-block-image{margin-bottom:2rem}tui-block-status .t-block-text:not(:empty){font:var(--tui-font-text-m);color:var(--tui-text-secondary);margin-bottom:2rem;white-space:pre-line}tui-block-status .t-block-actions:not(:empty){display:flex;flex-direction:column;align-items:center;width:100%}tui-block-status h1,tui-block-status h2,tui-block-status h3,tui-block-status h4,tui-block-status h5,tui-block-status h6{font:var(--tui-font-heading-4);margin-top:0;margin-bottom:1rem}tui-block-status img{width:9rem;height:9rem}tui-block-status a:not(:last-child),tui-block-status button:not(:last-child){margin-bottom:.75rem}
`],encapsulation:2,changeDetection:0});let i=e;return i})(),Zo=(()=>{let e=class e{constructor(){this.tuiSlot="top"}};e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=D({type:e,selectors:[["","tuiSlot",""]],inputs:{tuiSlot:"tuiSlot"},standalone:!0});let i=e;return i})();var Ue=class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=I({type:i,selectors:[["app-no-rides-available"]],standalone:!0,features:[k],decls:5,vars:0,consts:[[1,"tui-block-status"],["alt","not found","src","./not-found.svg","tuiSlot","top",1,"image"]],template:function(o,t){o&1&&(c(0,"tui-block-status",0),E(1,"img",1),c(2,"h4"),v(3,"No direct trains found"),d(),v(4,` No seats on direct trains are available right now, but there's always hope. Try again later or travel with a transfer.
`),d())},dependencies:[z,Xo,Zo],styles:[".tui-block-status[_ngcontent-%COMP%]{max-width:530px;margin:100px auto}"]})};function ws(i,e){i&1&&(H(0),E(1,"tui-loader",4),j())}function Ss(i,e){if(i&1&&(H(0),_(1,ws,2,0,"ng-container",3),j()),i&2){let o=e.ngIf;u(),p("ngIf",o)}}function Is(i,e){if(i&1&&(c(0,"div",21)(1,"div",22),v(2),d(),c(3,"div"),v(4),w(5,"currency"),d()()),i&2){let o=e.$implicit,t=f().$implicit;u(2),Z(o),u(2),O(" ",Ln(5,2,t.price[o],"USD","symbol")," ")}}function Ms(i,e){if(i&1){let o=M();c(0,"div",10)(1,"div",11)(2,"button",12),T("click",function(n){b(o);let r=f().$implicit,a=f(4);return x(a.showDialog(r,n))}),v(3,"Route"),d(),c(4,"div",13)(5,"div",14),v(6),w(7,"date"),d(),c(8,"div",15),v(9),w(10,"formatDuration"),d(),c(11,"div",16),v(12),w(13,"date"),d()(),c(14,"div",17)(15,"div"),v(16),w(17,"date"),d(),c(18,"div"),v(19),w(20,"date"),d()(),c(21,"div",18)(22,"div"),v(23),d(),c(24,"div"),v(25),d()()(),c(26,"div",19),_(27,Is,6,6,"div",20),d()()}if(i&2){let o=e.$implicit,t=f().$implicit,n=f(2).ngIf;u(6),O(" ",B(7,8,o.time[0],"shortTime")," "),u(3),O(" ",B(10,11,o.time[0],o.time[1])," "),u(3),O(" ",B(13,14,o.time[1],"shortTime")," "),u(4),Z(B(17,17,o.time[0],"MMMM d")),u(3),Z(B(20,20,o.time[1],"MMMM d")),u(4),Z(n.from.city),u(2),Z(n.to.city),u(2),p("ngForOf",t.carriages)}}function Os(i,e){if(i&1){let o=M();c(0,"div",8),T("click",function(){let n=b(o).$implicit,r=f(4);return x(r.onCardClick(n))})("keyup.enter",function(){let n=b(o).$implicit,r=f(4);return x(r.onCardClick(n))})("keydown.space",function(){let n=b(o).$implicit,r=f(4);return x(r.onCardClick(n))}),_(1,Ms,28,23,"div",9),d()}if(i&2){let o=e.$implicit;u(),p("ngForOf",o.schedule)}}function Ds(i,e){if(i&1&&(c(0,"div",6),_(1,Os,2,1,"div",7),d()),i&2){let o=f().ngIf;u(),p("ngForOf",o.routes)}}function Ps(i,e){i&1&&E(0,"app-no-rides-available")}function Es(i,e){if(i&1&&(H(0),_(1,Ds,2,1,"div",5)(2,Ps,1,0,"ng-template",null,1,J),j()),i&2){let o=e.ngIf,t=q(3);u(),p("ngIf",o.routes.length>0)("ngIfElse",t)}}function ks(i,e){if(i&1&&(_(0,Es,4,2,"ng-container",3),w(1,"async")),i&2){let o=f();p("ngIf",V(1,1,o.searchResponse$))}}var We=class i{constructor(e,o){this.router=e;this.dialogs=o}trainService=h(Pt);injector=h(Dn);searchResponse$=this.trainService.searchResponse$;loading$=this.trainService.loading$;showDialog(e,o){o.stopPropagation(),this.searchResponse$.pipe(P(t=>{t&&this.dialogs.open(new Ti(Be,this.injector),{size:"m",closeable:!0,dismissible:!0,data:{route:e,from:t.from,to:t.to}}).subscribe()})).subscribe()}onCardClick(e){this.searchResponse$.pipe(P(o=>{if(!o)return;let t=o.from.stationId,n=o.to.stationId;this.router.navigate(["/trip",e.schedule[0].rideId],{queryParams:{from:t,to:n}})})).subscribe()}static \u0275fac=function(o){return new(o||i)(Ze(Li),Ze(Vi))};static \u0275cmp=I({type:i,selectors:[["app-search-results"]],standalone:!0,features:[k],decls:4,vars:4,consts:[["content",""],["noRides",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],[1,"tui-space_vertical-3","loader"],["class","routes",4,"ngIf","ngIfElse"],[1,"routes"],["class","route","tabindex","0",3,"click","keyup.enter","keydown.space",4,"ngFor","ngForOf"],["tabindex","0",1,"route",3,"click","keyup.enter","keydown.space"],["class","schedule",4,"ngFor","ngForOf"],[1,"schedule"],[1,"info-section"],["tuiButton","","size","s","appearance","outline",3,"click"],[1,"time"],[1,"start-time","tui-text_body-l-2"],[1,"duration"],[1,"end-time","tui-text_body-l-2"],[1,"date"],[1,"city","tui-text_body-l-1"],[1,"price-section"],["class","carriage",4,"ngFor","ngForOf"],[1,"carriage"],[1,"tui-text_body-m"]],template:function(o,t){if(o&1&&(_(0,Ss,2,1,"ng-container",2),w(1,"async"),_(2,ks,2,3,"ng-template",null,0,J)),o&2){let n=q(3);p("ngIf",V(1,2,t.loading$))("ngIfElse",n)}},dependencies:[z,X,F,Y,Wn,St,ft,Ue,no,Ni],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--auth-font-weight: 600;--auth-container-width: 300px;--auth-container-padding: 20px;--auth-form-flex-gap: 20px;--auth-input-padding: 10px 5px}[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:100%;max-width:1200px;margin:20px 0;padding:20px 16px;border-radius:10px}.routes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;width:100%}.route[_ngcontent-%COMP%]{cursor:pointer;gap:20px;padding:16px;background-color:var(--tui-background-base);border:1px solid var(--tui-background-neutral-1-pressed);border-radius:10px;box-shadow:0 4px 6px #0000001a}.schedule[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 250px;gap:20px;width:100%}.info-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px;align-items:flex-start;width:100%}.info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:1fr 1fr 1fr;align-items:flex-end;width:100%;margin-top:10px;padding-bottom:10px;border-bottom:1px solid var(--tui-background-neutral-1-pressed)}.info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .start-time[_ngcontent-%COMP%], .info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .end-time[_ngcontent-%COMP%]{position:relative;font-weight:700}.info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .start-time[_ngcontent-%COMP%]:before, .info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .end-time[_ngcontent-%COMP%]:before{content:"\\26aa";position:absolute;bottom:-6px;width:8px;height:8px;font-size:10px}.info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .start-time[_ngcontent-%COMP%]:before{left:-5px}.info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .end-time[_ngcontent-%COMP%]:before{right:0}.info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .duration[_ngcontent-%COMP%]{color:var(--tui-text-secondary);text-align:center}.info-section[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]   .end-time[_ngcontent-%COMP%]{text-align:right}.info-section[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;margin-top:10px}.info-section[_ngcontent-%COMP%]   .city[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;font-weight:500}.price-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;justify-content:flex-end;padding-left:20px;border-left:1px solid var(--tui-background-neutral-1-pressed)}.price-section[_ngcontent-%COMP%]   .carriage[_ngcontent-%COMP%]{display:flex;justify-content:space-between}tui-loader[_ngcontent-%COMP%]{margin-top:200px}@media (min-width: 1024px) and (max-width: 1439px){[_nghost-%COMP%]{max-width:986px}}@media (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}}@media (min-width: 425px) and (max-width: 767px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}}@media (min-width: 320px) and (max-width: 424px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}}']})};var Ko=class i{static \u0275fac=function(o){return new(o||i)};static \u0275cmp=I({type:i,selectors:[["app-home-page"]],standalone:!0,features:[k],decls:3,vars:0,consts:[[1,"home-page"]],template:function(o,t){o&1&&(c(0,"div",0),E(1,"app-search-form")(2,"app-search-results"),d())},dependencies:[Oe,Le,$e,We],styles:["[_ngcontent-%COMP%]:root{--auth-font-weight: 600;--auth-container-width: 300px;--auth-container-padding: 20px;--auth-form-flex-gap: 20px;--auth-input-padding: 10px 5px}[_nghost-%COMP%]{display:flex;flex-direction:column;gap:20px;width:100vw;max-width:1200px;margin:0 auto;padding:0 20px}@media (min-width: 1024px) and (max-width: 1439px){[_nghost-%COMP%]{max-width:986px}}@media (min-width: 768px) and (max-width: 1023px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}}@media (min-width: 425px) and (max-width: 767px){[_nghost-%COMP%]{max-width:calc(100vw - 40px)}}@media (min-width: 320px) and (max-width: 424px){[_nghost-%COMP%]{max-width:300px;padding:0 10px}}"]})};export{Ko as HomePageComponent};
