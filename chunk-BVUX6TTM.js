import{a as n,b as u}from"./chunk-H4NAPNW2.js";import{Oc as O,Pc as p,g as m,oa as c,ua as l}from"./chunk-FW5WJFJQ.js";var I=class s{http=l(p);profileUrl="/api/profile";passwordUrl=`${this.profileUrl}/password`;usersUrl="/api/users";getUserInformation(){return this.http.get(this.profileUrl)}updateUserInformation(e){return this.http.put(this.profileUrl,e)}updatePassword(e){return this.http.put(this.passwordUrl,{password:e})}getUsers(){return this.http.get(this.usersUrl)}static \u0275fac=function(r){return new(r||s)};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};var v={loadOrders:n("[Order] Load Orders"),loadOrdersSuccess:n("[Order] Load Orders Success",u()),loadOrdersFailure:n("[Order] Load Orders Failure"),cancelOrder:n("[Order] Cancel Order",u()),cancelOrderSuccess:n("[Order] Cancel Order Success",u()),cancelOrderFailure:n("[Order] Cancel Order Failure")};var f=class s{http=l(p);alertMessage$=new m;getOrders(e=!1){let r;return e&&(r=new O().set("all",!0)),this.http.get("/api/order",{params:r})}createOrder(e){return this.http.post("/api/order",e)}cancelActiveOrder(e){return this.http.delete(`/api/order/${e}`)}getTime(e,r){let o=r==="start"?e.stationStart:e.stationEnd,a=e.path.findIndex(t=>t===o),i=r==="start"?a:a-1,d=r==="start"?0:1;return e.schedule.segments[i].time[d]}getStartStationIndex(e){return e.path.findIndex(r=>r===e.stationStart)}getEndStationIndex(e){return e.path.findIndex(r=>r===e.stationEnd)-1}getOrderPrice(e,r){return e.schedule.segments.slice(this.getStartStationIndex(e),this.getEndStationIndex(e)+1).reduce((o,a)=>o+a.price[r],0)}getCarriageIndex(e,r,o){let a={};o.forEach(t=>{a[t.name]=t.leftSeats+t.rightSeats});let i=0,d=-1;for(let t=0;t<r.length;t+=1){let h=r[t];if(i+=a[h],i>e){d=t;break}}return d}static \u0275fac=function(r){return new(r||s)};static \u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"})};export{I as a,v as b,f as c};
