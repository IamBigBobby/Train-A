<div id="map"></div>
<div class="tui-container">
  <form class="station__form" [formGroup]="stationForm" (ngSubmit)="createStation()">
    <tui-input formControlName="city">
      City
      <input tuiTextfieldLegacy type="text" />
    </tui-input>
    <tui-input formControlName="latitude">
      Latitude
      <input tuiTextfieldLegacy placeholder="enter latitude" type="text" (change)="onCoordinatesChange()" />
    </tui-input>
    <tui-input formControlName="longitude">
      Longitude
      <input tuiTextfieldLegacy placeholder="enter longitude" type="text" (change)="onCoordinatesChange()" />
    </tui-input>
    <div class="station__connect-to-container" formArrayName="connections">
      @for (connectItem of connections.controls; track connectItem; let i = $index) {
        <tui-select
          tuiTextfieldSize="m"
          class="tui-space_vertical-4"
          [formControlName]="i"
          (ngModelChange)="onSelectChange(i)"
        >
          Connect to
          <input placeholder="select city" tuiTextfieldLegacy />
          <tui-data-list-wrapper *tuiDataList [items]="items" />
        </tui-select>
      }
    </div>
    <button size="l" tuiButton>Add station</button>
  </form>
</div>
